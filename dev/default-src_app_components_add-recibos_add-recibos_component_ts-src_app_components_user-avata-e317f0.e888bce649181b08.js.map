{"version":3,"file":"default-src_app_components_add-recibos_add-recibos_component_ts-src_app_components_user-avata-e317f0.e888bce649181b08.js","mappings":"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","sources":["./src/app/components/add-recibos/add-recibos.component.ts","./src/app/components/add-recibos/add-recibos.component.html","./src/app/components/user-avatar/user-avatar.component.ts","./src/app/components/user-avatar/user-avatar.component.html","./src/app/utils/alertUtil.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {\n  FormArray,\n  FormBuilder,\n  FormGroup,\n  Validators\n} from '@angular/forms';\nimport {\n  ActionSheetController,\n  LoadingController,\n  ModalController\n} from '@ionic/angular';\nimport {\n  Casa,\n  Concepto,\n  ConceptoDef,\n  Recibo,\n  ReciboDetalle,\n  ReciboMaxFolio,\n  Usuario\n} from '../../interface/recibos';\nimport { RecibosService } from '../../service/recibos.service';\nimport { LoadingUtil } from '../../utils/loadingUtil';\nimport { ToastUtil } from '../../utils/toastUtil';\nimport { AlertUtil } from 'src/app/utils/alertUtil';\nimport { PrefijoDef } from '../../interface/recibos';\n\n@Component({\n  selector: 'app-add-recibos',\n  templateUrl: './add-recibos.component.html',\n  styleUrls: ['./add-recibos.component.css'],\n  standalone: false,\n})\n// export class AddRecibosComponent extends LoadingUtil implements OnInit {\nexport class AddRecibosComponent implements OnInit {\n  user: Usuario | null = null;\n  item: Recibo = {\n    FOLIO: 0,\n    CASA: '',\n    NOMBRE: '',\n    CANTIDAD: '',\n    CONCEPTO: '',\n    FECHA: '',\n    CORREO: '',\n    INPUT_TIMESTAMP: '',\n    PREFIX: '',\n  };\n  itemDetail: ReciboDetalle[] = [];\n  itemDetailConfirms : ReciboDetalle[] = [];\n  casas: Casa[] = [];\n  casa: Casa | any;\n  conceptos: ConceptoDef[] = [];\n  prefijos: PrefijoDef[] = [];\n  data: boolean = false;\n  sendEmail: boolean = false;\n\n  date = new Date(); // Or the date you'd like converted.\n  today = new Date(\n    this.date.getTime() - this.date.getTimezoneOffset() * 60000\n  );\n  public fields: FormGroup;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private actionSheetCtrl: ActionSheetController,\n    private formBuilder: FormBuilder,\n    private service: RecibosService,\n    // loadingCtrl: LoadingController,\n    private loadingUtil: LoadingUtil,\n    private toastUtil: ToastUtil,\n    private alertUtil: AlertUtil\n  ) {\n    // super(loadingCtrl);\n    this.fields = this.formBuilder.group({\n      prefijo: ['', Validators.required],\n      folio: ['', Validators.required],\n      casa: ['', Validators.required],\n      nombre: ['', Validators.required],\n      fecha: ['', Validators.required],\n      email: ['', Validators.required],\n      sendEmail: '',\n      cantidad: ['', Validators.required],\n      conceptos: this.formBuilder.array([this.frmConceptos()])\n    });\n  }\n\n  frmConceptos(): FormGroup {\n    return this.formBuilder.group({\n      concepto: ['', [Validators.required, Validators.minLength(3)]],\n      mes: ['', [Validators.required]],\n      monto: ['', [Validators.required, Validators.min(0), Validators.pattern(/^\\d+(\\.\\d{1,2})?$/)]]\n    });\n  }\n\n  get conceptoForm() {\n    return this.fields.get('conceptos') as FormArray;\n  }\n\n  ngOnInit() {\n    this.service.getSpreadSheetId().then(() => {\n      // const FOLIO = this.getMaxFolio();\n      const formattedDate = this.today.toJSON().split('T')[0];\n      this.fields.patchValue({ fecha: formattedDate });\n      this.inittial();\n      // this.dismiss();\n    });\n    this.loadingUtil.showing();\n  }\n\n  /**\n   * @deprecated Use getMaxFolio with subscription instead\n   */\n  getMaxFolio() {\n    this.service.getFullDataDetail().subscribe(\n      {\n         next: (resp: ReciboDetalle[] | any) => {\n          const FOLIO = Math.max(...resp.map((row: { FOLIO: any; }) => row.FOLIO)) + 1;\n          this.fields.patchValue({ folio: FOLIO });\n          this.loadingUtil.dismiss();\n        }, error: err => {\n          const FOLIO = 1;\n          this.fields.patchValue({ folio: FOLIO });\n          this.loadingUtil.dismiss();\n          this.alertUtil.showError('No se pudo obtener el folio: ' + err.message);\n        }\n      });\n  }\n\n  inittial() {\n    const userStr = localStorage.getItem('user');\n    this.user = userStr ? JSON.parse(userStr) : null;\n    this.service.getFullData().subscribe({\n      next: (resp: Casa[] | any) => {\n      this.casas = resp || [];\n      // this.dismiss();\n      this.service.getConceptos().subscribe((resp: ConceptoDef[] | any) => {\n        this.conceptos = resp || [];\n        // console.log(this.conceptos);\n        // this.getMaxFolio();\n        });\n      this.service.getPrefijos().subscribe((resp: PrefijoDef[] | any) => {\n        this.prefijos = resp || [];\n        this.calPrefijoUser();\n        this.loadingUtil.dismiss();\n        });\n      },\n      error: async (err) => {\n        console.error('Error al cargar datos:', err);\n        this.loadingUtil.dismiss();\n        this.alertUtil.showError('No se pudieron cargar los datos: ' + err.message);\n      }\n    });\n  }\n\n  onChangeCasa(event: CustomEvent) {\n    const _casa: Casa = event.detail.value;\n    if (_casa.ID) {\n      this.casa = this.casas.find((data: Casa) => {\n        if (data.ID === _casa.ID && data.NOMBRE === _casa.NOMBRE) {\n          return data;\n        }\n        return null;\n      });\n\n      this.fields.patchValue({\n        nombre: this.casa.NOMBRE,\n        email: this.casa.EMAIL,\n        sendEmail: true\n      });\n    }\n  }\n\n  onChangePrefijo(event: CustomEvent) {\n    const _prefijo: PrefijoDef = event.detail.value;\n    if (!_prefijo) return;\n    let prefijo = this.prefijos.find((data: PrefijoDef) => data.NOMBRE === _prefijo.NOMBRE);\n    this.fields.patchValue({\n        folio: (prefijo?.FOLIO ?? 0) + 1\n      });\n  }\n\n  onChangeConcepto(event: CustomEvent, i: number) {\n    const _concepto: ConceptoDef = event.detail.value;\n    if (_concepto) {\n      const control = <FormArray>this.fields.controls['conceptos'];\n      let _monto = this.calMontoConcepto();\n      control.at(i).patchValue({\n        mes: this.getFirstDayOfMonth(),\n        monto: _monto\n      });\n    }\n  }\n\n  calMontoConcepto() {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    let sumMonto: number = 0;\n      control.controls.forEach((data: any) => {\n        sumMonto += data.value.monto;\n      });\n      return this.fields.value.cantidad - sumMonto;\n  }\n\n  getFirstDayOfMonth() {\n    const firstDayOfMonth = new Date(this.today.getFullYear(), this.today.getMonth(), 1).toJSON().split('T')[0];\n    return firstDayOfMonth;\n  }\n\n  async onSave(_recibo: any) {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: '¿Desea guardar el recibo?',\n      buttons: [\n        {\n          text: 'Guardar',\n          role: 'confirm',\n          icon: 'checkmark',\n          handler: () => {\n            this.save(_recibo);\n          }\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          icon: 'close',\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n  save(_recibo: any) {\n    let _casa = _recibo.casa;\n    _recibo.casa = _casa.ID;\n    let _folio = _recibo.folio;\n    let _prefijo = _recibo.prefijo?.PREFIX ?? '';\n    this.fillEvent(_recibo);\n    this.service.save(this.item, this.itemDetail).subscribe( {\n      next: resp => {\n        // console.log(\"resp save item\", resp);\n        if (this.sendEmail) {\n          let fecha = new Date(_recibo.fecha);\n          let date = new Date(\n            fecha.getTime() + this.date.getTimezoneOffset() * 60000\n          ); //add 1 day\n          // console.log(_recibo.fecha);\n          _recibo.fecha = date.toLocaleDateString();\n          // console.log(_recibo.fecha);\n          this.service.sendEmail(_recibo, _recibo.conceptos).subscribe({\n            next: resp => {\n              // console.log('resp save item', resp);\n              this.meesageToast('correo enviado');\n            },\n            error: err => {\n              console.log('Error email: ', err);\n            }\n          });\n        }\n        this.meesageToast('Se guardo exitosamente');\n        this.loadingUtil.dismiss();\n        this.itemDetail = this.convertMonth(this.itemDetail);\n        this.calSavePrefijos(_folio, _prefijo)\n        // this.confirm(this.itemDetail);\n        this.otherSave(this.itemDetail);\n      },\n      error: err => {\n        //console.log(\"Error Detail: \", err);\n        this.meesageToast('No se pudo guardar el dato');\n        this.loadingUtil.dismiss();\n      }\n  });\n    this.loadingUtil.showing();\n    _recibo.sendEmail = true;\n  }\n\n  async otherSave(_itemDetail: any) {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: '¿Desea agregar otro recibo ?',\n      buttons: [\n        {\n          text: 'Otro recibo',\n          role: 'other',\n          icon: 'add',\n          handler: () => {\n            this.fields.reset();\n            const formattedDate = this.today.toJSON().split('T')[0];\n            this.fields.patchValue({ fecha: formattedDate });\n            this.calPrefijoUser();\n            this.itemDetailConfirms.push(..._itemDetail);\n          }\n        },\n        {\n          text: 'Salir',\n          role: 'confirm',\n          icon: 'checkmark',\n          handler: () => {\n          this.itemDetailConfirms.push(..._itemDetail);\n           console.log(this.itemDetailConfirms);\n            this.confirm(this.itemDetailConfirms);\n          }\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\nconvertMonth(itemDetail: ReciboDetalle[]) {\n    return itemDetail.map(item => {\n      // 1. Toma el string y separa\n      const [yyyy, mm, dd] = item.MES?.split('-') || [];\n      // 3. Crea fecha ISO agregando hora\n      const isoString = `${yyyy}-${mm}-${dd}T06:00:00.000Z`;\n      // 4. Devuelve el nuevo objeto con MES modificado\n      return { ...item, MES: isoString };\n    });\n  }\n\n  calPrefijoUser(){\n    let prefijo = this.prefijos.find((data: PrefijoDef) =>\n      data.NOMBRE?.toUpperCase() === this.user?.ID?.toUpperCase() && this.user?.ROLE === 'user'\n    );\n    if (prefijo) {\n      this.fields.patchValue({\n        prefijo: prefijo,\n        folio: prefijo?.FOLIO + 1\n      });\n    }\n  }\n\n  calSavePrefijos(_folio: number, _prefijo: string) {\n    if (!_prefijo) return;\n    let prefijoToUpdate = this.prefijos.find(p => p.PREFIX === _prefijo);\n    if (prefijoToUpdate) {\n      prefijoToUpdate.FOLIO = _folio;\n    }\n\n  }\n\n  fillEvent(_recibo: any) {\n    // console.log(\"event\", _recibo);\n    this.item.FOLIO = _recibo.folio;\n    let fecha = new Date(_recibo.fecha);\n    this.item.FECHA = _recibo.fecha;\n    this.item.CASA = _recibo.casa;\n    this.item.NOMBRE = _recibo.nombre;\n    this.item.CORREO = _recibo.email;\n    this.item.CANTIDAD = _recibo.cantidad;\n    this.item.PREFIX = _recibo.prefijo?.PREFIX ?? '';\n    // console.log(\"this.item\", this.item);\n    var conceptos = _recibo.conceptos;\n    this.itemDetail = [];\n    if (conceptos) {\n      this.item.CONCEPTO = _recibo.conceptos[0].concepto;\n      //console.log(\"conceptos\", conceptos);\n      conceptos.forEach((data: Concepto) => {\n        var detail: ReciboDetalle = {};\n        detail.FOLIO = _recibo.folio;\n        detail.CASA = _recibo.casa;\n        detail.NOMBRE = _recibo.nombre;\n        detail.CONCEPTO = data.concepto;\n        detail.MES = data.mes;\n        detail.MONTO = data.monto;\n        detail.PREFIX = _recibo.prefijo?.PREFIX ?? '';\n        //console.log(\"detail\", detail);\n        this.itemDetail.push(detail);\n      });\n    }\n    // console.log(\"this.itemDetail\", this.itemDetail);\n  }\n\n  removeInputField(i: number): void {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    control.removeAt(i);\n  }\n\n  addNewInputField(): void {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    control.push(this.frmConceptos());\n  }\n\n  /* async meesageToast(_message: string) {\n    let toast = await this.toastCtrl.create({\n      message: _message,\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.present();\n  } */\n\n  meesageToast(_message: string) {\n    this.toastUtil.presentToast(_message, \"top\");\n  }\n\n  confirm(reciboDetalles: any) {\n      this.modalCtrl.dismiss(reciboDetalles, 'confirm');\n  }\n\n  close() {\n    this.modalCtrl.dismiss(null, 'cancel');\n  }\n}\n","<ion-header>\n\t<ion-toolbar>\n\t\t<ion-title>Agregar Recibos</ion-title>\n\t\t<ion-buttons slot=\"start\">\n\t\t\t<ion-button (click)=\"close()\">\n\t\t\t<ion-icon name=\"close\" ></ion-icon>\n\t\t\t</ion-button>\n\t\t</ion-buttons>\n\t</ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n\t<form [formGroup]=\"fields\" (ngSubmit)=\"onSave(fields.value)\">\n\t\t<ion-item *ngIf=\"user?.ROLE === 'admin' || user?.ROLE === 'dev' || user?.ROLE === 'manager'\" >\n\t\t\t<ion-select label=\"Prefix:\" labelPlacement=\"floating\"  interface=\"popover\"\n\t\t\t\tid=\"prefijo\" formControlName=\"prefijo\" (ionChange)=\"onChangePrefijo($event)\">\n\t\t\t\t<ion-select-option *ngFor=\"let row of prefijos\" [value]=\"row\">\n\t\t\t\t\t{{row.NOMBRE}}\n\t\t\t\t</ion-select-option>\n\t\t\t</ion-select>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Folio\" labelPlacement=\"floating\" id=\"folio\" type=\"number\" formControlName=\"folio\">\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Fecha\" labelPlacement=\"floating\" id=\"fecha\" type=\"date\" formControlName=\"fecha\"></ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-select label=\"Casa\" labelPlacement=\"floating\"\n\t\t\t\tid=\"casa\" interface=\"popover\" formControlName=\"casa\" (ionChange)=\"onChangeCasa($event)\">\n\t\t\t\t<ion-select-option *ngFor=\"let casa of casas\" [value]=\"casa\">{{casa.ID}}--{{casa.NOMBRE}}\n\t\t\t\t</ion-select-option>\n\t\t\t\t<ion-select-option> </ion-select-option>\n\t\t\t\t<ion-select-option></ion-select-option>\n\t\t\t</ion-select>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Nombre\" labelPlacement=\"floating\" id=\"nombre\" type=\"text\" formControlName=\"nombre\">\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Email\" labelPlacement=\"floating\" id=\"email\" type=\"email\" formControlName=\"email\">\n\t\t\t</ion-input>\n\t\t\t<ion-checkbox id=\"sendEmail\" item-right secondary formControlName=\"sendEmail\" color=\"green\">\n\t\t\t</ion-checkbox>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Cantidad\" labelPlacement=\"floating\"  id=\"cantidad\" type=\"number\" formControlName=\"cantidad\">\n\t\t\t\t<ion-icon slot=\"start\" name=\"cash\" aria-hidden=\"true\"></ion-icon>\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<!-- Detail -->\n\t\t<div formArrayName=\"conceptos\" margin-bottom>\n\t\t\t<section *ngFor=\"let control of conceptoForm.controls; let i = index\" [formGroupName]=\"i\" >\n\t\t\t\t<ion-item-group>\n\t\t\t\t\t<ion-item-divider color=\"light\">Conceptos #{{ i + 1 }}</ion-item-divider>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-select label=\"Concepto:\" labelPlacement=\"floating\"  interface=\"popover\" id=\"concepto\" formControlName=\"concepto\" (ionChange)=\"onChangeConcepto($event, i)\">\n\t\t\t\t\t\t\t<ion-select-option *ngFor=\"let row of conceptos\" [value]=\"row.NOMBRE\">\n\t\t\t\t\t\t\t\t{{row.NOMBRE}}\n\t\t\t\t\t\t\t</ion-select-option>\n\t\t\t\t\t\t</ion-select>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-label floating>Mes:</ion-label>\n\t\t\t\t\t\t\t<!-- <ion-input type=\"date\" maxlength=\"50\" formControlName=\"mes\"></ion-input> -->\n\t\t\t\t\t\t\t<ion-datetime id=\"mes\" displayFormat=\"MMM. YYYY\" formControlName=\"mes\"\n\t\t\t\t\t\t\tmonthShortNames=\"Ene, Feb, Mar, Apr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dic\"\n\t\t\t\t\t\t\tpresentation=\"month-year\"\n\t\t\t\t\t\t[preferWheel]=\"true\">\n\t\t\t\t\t\t</ion-datetime>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-input label=\"Monto:\" labelPlacement=\"floating\"  id=\"monto\" type=\"number\" maxlength=\"50\" formControlName=\"monto\"></ion-input>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<!-- Allow generated input field to be removed -->\n\t\t\t\t\t<ion-button size=\"small\" fill=\"clear\" color=\"danger\" *ngIf=\"conceptoForm.length > 1\"\n                     (click)=\"removeInputField(i)\">\n                     <ion-icon name=\"close\"></ion-icon>\n                     eliminar\n                  </ion-button>\n\t\t\t\t</ion-item-group>\n\t\t\t</section>\n\t\t</div>\n\t\t<!-- Allow new input field to be generated/added -->\n\t\t<ion-button size=\"small\" fill=\"clear\" color=\"primary\"\n            (click)=\"addNewInputField()\">\n            <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n\t\t\tnuevo concepto\n         </ion-button>\n\t\t<ion-button type=\"submit\" expand=\"block\" [disabled]=\"!fields.valid\" >Agregar</ion-button>\n\t</form>\n</ion-content>\n","import { Component, Input, OnInit, OnChanges } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Usuario } from '../../interface/recibos';\n\n@Component({\n  selector: 'app-user-avatar',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './user-avatar.component.html',\n  styleUrls: ['./user-avatar.component.scss']\n})\nexport class UserAvatarComponent implements OnInit, OnChanges {\n  @Input() user: Usuario | null = null;\n  @Input() size: 'small' | 'medium' | 'large' = 'medium';\n  \n  initials: string = '';\n  userName: string = '';\n\n  ngOnInit() {\n    this.loadUserData();\n  }\n\n  ngOnChanges() {\n    this.loadUserData();\n  }\n\n  private loadUserData() {\n    if (this.user) {\n      this.userName = this.user.NOMBRE || '';\n      this.initials = this.getInitials(this.userName);\n    } else {\n      // Si no hay usuario pasado como input, intentar obtenerlo del localStorage\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        const user = JSON.parse(userData);\n        this.userName = user.NOMBRE || '';\n        this.initials = this.getInitials(this.userName);\n      } else {\n        this.userName = '';\n        this.initials = '';\n      }\n    }\n  }\n\n  private getInitials(name: string): string {\n    if (!name) return '';\n    \n    const words = name.trim().split(' ');\n    if (words.length === 1) {\n      return words[0].charAt(0).toUpperCase();\n    } else {\n      return (words[0].charAt(0) + words[words.length - 1].charAt(0)).toUpperCase();\n    }\n  }\n\n  getSizeClass(): string {\n    return `avatar-${this.size}`;\n  }\n}","<div class=\"user-avatar-container\" [title]=\"userName\" [id]=\"'user-avatar-' + size\">\n  <div class=\"user-avatar\" [ngClass]=\"getSizeClass()\">\n    <span class=\"initials\">{{ initials }}</span>\n  </div>\n  <div class=\"user-tooltip\" *ngIf=\"userName\">\n    {{ userName }}\n  </div>\n</div>\n","import { Injectable } from \"@angular/core\";\nimport { AlertController } from \"@ionic/angular\";\n\n@Injectable({ providedIn: 'root' })\nexport class AlertUtil {\n\n  constructor(private alertCtrl: AlertController) {}\n\n  async showSucess(message: string) {\n    const alert = await this.alertCtrl.create({\n      header: 'Exito',\n      message: message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n    console.log('Success:', message);\n  }\n\n  async showError(message: string) {\n    const alert = await this.alertCtrl.create({\n      header: 'Error',\n      message: message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n    console.error('Error:', message);\n  }\n\n}\n"],"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","row_r3","ɵɵadvance","ɵɵtextInterpolate1","NOMBRE","ɵɵlistener","AddRecibosComponent_ion_item_9_Template_ion_select_ionChange_1_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onChangePrefijo","ɵɵtemplate","AddRecibosComponent_ion_item_9_ion_select_option_2_Template","prefijos","casa_r4","ɵɵtextInterpolate2","ID","row_r7","AddRecibosComponent_section_28_ion_button_13_Template_ion_button_click_0_listener","_r8","i_r6","index","removeInputField","ɵɵelement","AddRecibosComponent_section_28_Template_ion_select_ionChange_5_listener","_r5","onChangeConcepto","AddRecibosComponent_section_28_ion_select_option_6_Template","AddRecibosComponent_section_28_ion_button_13_Template","conceptos","conceptoForm","length","AddRecibosComponent","constructor","modalCtrl","actionSheetCtrl","formBuilder","service","loadingUtil","toastUtil","alertUtil","user","item","FOLIO","CASA","CANTIDAD","CONCEPTO","FECHA","CORREO","INPUT_TIMESTAMP","PREFIX","itemDetail","itemDetailConfirms","casas","data","sendEmail","date","Date","today","getTime","getTimezoneOffset","fields","group","prefijo","required","folio","casa","nombre","fecha","email","cantidad","array","frmConceptos","concepto","minLength","mes","monto","min","pattern","get","ngOnInit","getSpreadSheetId","then","formattedDate","toJSON","split","patchValue","inittial","showing","getMaxFolio","getFullDataDetail","subscribe","next","resp","Math","max","map","row","dismiss","error","err","showError","message","_this","userStr","localStorage","getItem","JSON","parse","getFullData","getConceptos","getPrefijos","calPrefijoUser","_ref","_asyncToGenerator","console","_x","apply","arguments","onChangeCasa","event","_casa","detail","value","find","EMAIL","_prefijo$FOLIO","_prefijo","i","_concepto","control","controls","_monto","calMontoConcepto","at","getFirstDayOfMonth","sumMonto","forEach","firstDayOfMonth","getFullYear","getMonth","onSave","_recibo","_this2","actionSheet","create","header","buttons","text","role","icon","handler","save","present","_recibo$prefijo$PREFI","_recibo$prefijo","_folio","fillEvent","toLocaleDateString","meesageToast","log","convertMonth","calSavePrefijos","otherSave","_itemDetail","_this3","reset","push","confirm","_item$MES","yyyy","mm","dd","MES","isoString","_data$NOMBRE","_this$user","_this$user2","toUpperCase","ROLE","prefijoToUpdate","p","_recibo$prefijo$PREFI2","_recibo$prefijo2","_recibo$prefijo$PREFI3","_recibo$prefijo3","MONTO","removeAt","addNewInputField","_message","presentToast","reciboDetalles","close","ɵɵdirectiveInject","i1","ModalController","ActionSheetController","i2","FormBuilder","i3","RecibosService","i4","LoadingUtil","i5","ToastUtil","i6","AlertUtil","selectors","standalone","decls","vars","consts","template","AddRecibosComponent_Template","rf","ctx","AddRecibosComponent_Template_ion_button_click_5_listener","AddRecibosComponent_Template_form_ngSubmit_8_listener","AddRecibosComponent_ion_item_9_Template","AddRecibosComponent_Template_ion_select_ionChange_15_listener","AddRecibosComponent_ion_select_option_16_Template","AddRecibosComponent_section_28_Template","AddRecibosComponent_Template_ion_button_click_29_listener","valid","CommonModule","ctx_r0","userName","UserAvatarComponent","size","initials","loadUserData","ngOnChanges","getInitials","userData","name","words","trim","charAt","getSizeClass","inputs","features","ɵɵNgOnChangesFeature","UserAvatarComponent_Template","UserAvatarComponent_div_4_Template","ɵɵtextInterpolate","NgClass","NgIf","styles","alertCtrl","showSucess","alert","ɵɵinject","AlertController","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}