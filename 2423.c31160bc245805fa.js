"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2423],{2423:(le,M,m)=>{m.r(M),m.d(M,{RecibosPageModule:()=>se});var r=m(4742),c=m(177),u=m(4341),C=m(7941),p=m(467),b=m(4885),F=m(9350),v=m(7707),e=m(4438),h=m(4735),f=m(7568),I=m(7578);class _{lastSumMonto(a,o){return a.filter(n=>n.CASA==o).reduce((n,s)=>n+s.MONTO,0)}sumMonto(a,o){var t=a.filter(s=>s.CASA==o);let n=(new Date).getMonth();return(t=t.filter(s=>new Date(s.MES).getMonth()===n)).reduce((s,l)=>s+l.MONTO,0)}sizeMonto(a,o){var t=a.filter(s=>s.CASA==o);let n=(new Date).getMonth();return(t=t.filter(s=>new Date(s.MES).getMonth()===n)).length}}var S=m(980),g=m(4435);function y(i,a){if(1&i&&(e.j41(0,"ion-badge",6),e.EFF(1),e.k0s()),2&i){const o=e.XpG().$implicit,t=e.XpG();e.R7$(),e.SpI("",t.sizeMonto(o.details,o.header)," pago")}}function k(i,a){if(1&i&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&i){const o=e.XpG().$implicit,t=e.XpG();e.R7$(),e.SpI("",t.sizeMonto(o.details,o.header)," pago")}}function E(i,a){if(1&i&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&i){const o=e.XpG().$implicit,t=e.XpG();e.R7$(),e.SpI("",t.sizeMonto(o.details,o.header)," pagos")}}function D(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const n=e.eBV(o).$implicit,s=e.XpG();return e.Njj(s.openModal({detail:n.details}))}),e.j41(1,"ion-label")(2,"ion-badge",3),e.EFF(3),e.k0s(),e.EFF(4),e.nI1(5,"currency"),e.DNE(6,y,2,1,"ion-badge",4)(7,k,2,1,"ion-badge",5)(8,E,2,1,"ion-badge",5),e.k0s()()}if(2&i){const o=a.$implicit,t=e.XpG();e.R7$(3),e.JRh(t.lastSumMonto(t.itemsLastMonth,o.header)),e.R7$(),e.E5c(" ",o.header," - ",o.details[0].NOMBRE.substr(0,15)," : ",e.bMT(5,7,t.sumMonto(o.details,o.header))," "),e.R7$(2),e.Y8G("ngIf",0==t.sizeMonto(o.details,o.header)),e.R7$(),e.Y8G("ngIf",1==t.sizeMonto(o.details,o.header)),e.R7$(),e.Y8G("ngIf",t.sizeMonto(o.details,o.header)>1)}}function O(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s(),e.j41(6,"ion-note"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.k0s()(),e.j41(12,"ion-col")(13,"ion-note",6),e.EFF(14),e.nI1(15,"currency"),e.k0s()()()()()),2&i){const o=a.$implicit;e.R7$(5),e.SpI("",o.FOLIO," -"),e.R7$(2),e.JRh(e.i5U(8,4,o.MES,"MMM")),e.R7$(4),e.JRh(o.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(15,7,o.MONTO))}}function $(i,a){if(1&i&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,O,16,9,"ion-item",4),e.k0s()),2&i){const o=a.$implicit,t=e.XpG();e.R7$(2),e.Lme(" ",o.header," : ",e.bMT(3,3,t.sumMonto(o.details,o.header))," "),e.R7$(2),e.Y8G("ngForOf",o.details)}}let j=(()=>{var i;class a extends _{constructor(t,n,s){super(),this.modalCtrl=t,this.service=n,this.loadingUtil=s,this.items=[]}ngOnInit(){var t=this;return(0,p.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.getdata(),t.target.complete()}getdata(){this.service.getFullDataDetail().pipe((0,S.j)(()=>this.loadingUtil.dismiss())).subscribe(t=>{this.items=t,this.items.sort((s,l)=>s.CASA&&l.CASA&&s.CASA>l.CASA?1:-1),this.itemsBackup=this.items?this.items.slice():[],this.title=(new Date).toDateString();let n=(new Date).getMonth()-1;this.itemsLastMonth=t.filter(s=>s.MES&&new Date(s.MES).getMonth()===n),this.itemsLastMonth.sort((s,l)=>s.CASA&&l.CASA&&s.CASA>l.CASA?1:-1)})}getItems(t){this.items=this.itemsBackup.slice();const n=t.target.value;n&&""!=n.trim()&&(this.items=this.items.filter(s=>s.CASA&&s.CASA.toLowerCase().indexOf(n.toLowerCase())>-1))}openModal(t){var n=this;return(0,p.A)(function*(){yield(yield n.modalCtrl.create({component:A,componentProps:{detail:t.detail}})).present()})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3),e.rXU(h.f),e.rXU(f.L))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-mes"]],standalone:!1,features:[e.Vt3],decls:6,vars:9,consts:[[3,"ionInput","placeholder"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","light","slot","start"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","danger"],["color","secondary"]],template:function(t,n){1&t&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.nI1(2,"date"),e.bIt("ionInput",function(l){return n.getItems(l)}),e.k0s()(),e.j41(3,"ion-list"),e.DNE(4,D,9,9,"ion-item",1),e.nI1(5,"groupBy"),e.k0s()),2&t&&(e.R7$(),e.Mz_("placeholder","Pagos del mes de ",e.i5U(2,3,n.title,"MMM.yy"),""),e.R7$(3),e.Y8G("ngForOf",e.i5U(5,6,n.items,"CASA")))},dependencies:[c.Sq,c.bT,r.In,r.uz,r.he,r.nf,r.AF,r.S1,r.Gw,c.oe,c.vh,g.l],encapsulation:2}),a})(),A=(()=>{var i;class a extends _{constructor(t){super(),this.modalCtrl=t,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(t){this.items=this.itemsBackup?this.itemsBackup.slice():[];const n=t.target.value;n&&""!=n.trim()&&(this.items=this.items.filter(s=>s.CASA&&s.CASA.toLowerCase().indexOf(n.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-mes-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["slot","start"],[3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"ion-button",1),e.bIt("click",function(){return n.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(l){return n.getItems(l)}),e.k0s()(),e.DNE(11,$,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,n.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,n.items,"CASA")))},dependencies:[c.Sq,r.Jm,r.QW,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.Dg,r.jh,r.AF,r.JI,r.ln,r.S1,r.BC,r.ai,r.Gw,c.oe,c.vh,g.l],encapsulation:2}),a})();function T(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const n=e.eBV(o).$implicit,s=e.XpG();return e.Njj(s.openModal({detail:n.details}))}),e.EFF(1),e.nI1(2,"date"),e.k0s()}if(2&i){const o=a.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,o.header,"MMM.yy")," ")}}function U(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",6),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&i){const o=a.$implicit;e.R7$(5),e.JRh(o.FOLIO),e.R7$(3),e.JRh(o.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(12,3,o.MONTO))}}function G(i,a){if(1&i&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,U,13,5,"ion-item",4),e.k0s()),2&i){const o=a.$implicit,t=e.XpG();e.R7$(2),e.Lme(" ",o.header," : ",e.bMT(3,3,t.sumMonto(o.details,o.header))," "),e.R7$(2),e.Y8G("ngForOf",o.details)}}let w=(()=>{var i;class a extends _{constructor(t,n,s){super(),this.modalCtrl=t,this.service=n,this.loadingUtil=s,this.items=[]}ngOnInit(){var t=this;return(0,p.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(n=>{this.items=[...n],t.complete(),this.items.sort((s,l)=>s.MES&&l.MES&&s.MES>l.MES?-1:1)})}getdata(){var t=this;this.service.recibosDetalle$.subscribe(function(){var n=(0,p.A)(function*(s){t.items=[...s],t.items.sort((l,d)=>l.MES&&d.MES&&l.MES>d.MES?-1:1)});return function(s){return n.apply(this,arguments)}}())}openModal(t){var n=this;return(0,p.A)(function*(){yield(yield n.modalCtrl.create({component:B,componentProps:{detail:t.detail}})).present()})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3),e.rXU(h.f),e.rXU(f.L))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-meses"]],standalone:!1,features:[e.Vt3],decls:3,vars:5,consts:[["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-list",0),e.DNE(1,T,3,4,"ion-item",1),e.nI1(2,"groupBy"),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngForOf",e.brH(2,1,n.items,"MES","reverse")))},dependencies:[r.uz,r.nf,c.Sq,c.vh,g.l],encapsulation:2}),a})(),B=(()=>{var i;class a extends _{constructor(t){super(),this.modalCtrl=t,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(t){this.items=this.itemsBackup.slice(),console.log("this.items",this.items);const n=t.target.value;n&&""!=n.trim()&&(this.items=this.items.filter(s=>s.CASA&&s.CASA.toLowerCase().indexOf(n.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-meses-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"button",1),e.bIt("click",function(){return n.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(l){return n.getItems(l)}),e.k0s()(),e.DNE(11,G,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,n.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,n.items,"CASA")))},dependencies:[r.QW,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.Dg,r.jh,r.AF,r.JI,r.ln,r.S1,r.BC,r.ai,r.Gw,c.Sq,c.oe,c.vh,g.l],encapsulation:2}),a})();var X=m(3656);function P(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note",3),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"ion-col")(8,"ion-note",3),e.EFF(9),e.k0s()(),e.j41(10,"ion-col")(11,"ion-note",3),e.EFF(12),e.nI1(13,"currency"),e.k0s()()()()()),2&i){const o=a.$implicit;e.R7$(5),e.JRh(e.i5U(6,3,o.MES,"MMM.yy")),e.R7$(4),e.JRh(o.CONCEPTO),e.R7$(3),e.JRh(e.bMT(13,6,o.MONTO))}}function N(i,a){if(1&i&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",2),e.EFF(2),e.k0s(),e.DNE(3,P,14,8,"ion-item",1),e.k0s()),2&i){const o=a.$implicit;e.R7$(2),e.SpI(" ",o.header," "),e.R7$(),e.Y8G("ngForOf",o.details)}}let L=(()=>{var i;class a extends f.L{constructor(t,n,s){super(s),this.navCtrl=t,this.service=n,this.items=[],this.itemsBackup=[]}ngOnInit(){var t=this;return(0,p.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(n=>{this.items=n,this.itemsBackup=this.items.slice(),t.complete()})}getdata(){var t=this;this.service.getFullDataDetail().subscribe(function(){var n=(0,p.A)(function*(s){t.items=s,t.itemsBackup=t.items.slice()});return function(s){return n.apply(this,arguments)}}())}getItems(t){this.items=this.itemsBackup.slice();const n=t.target.value;n&&""!=n.trim()&&(this.items=this.items.filter(s=>s.FOLIO==n))}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(X.q9),e.rXU(h.f),e.rXU(r.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-folio"]],standalone:!1,features:[e.Vt3],decls:3,vars:4,consts:[[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,n){1&t&&(e.j41(0,"ion-searchbar",0),e.bIt("ionInput",function(l){return n.getItems(l)}),e.k0s(),e.DNE(1,N,4,2,"ion-item-group",1),e.nI1(2,"groupBy")),2&t&&(e.R7$(),e.Y8G("ngForOf",e.i5U(2,1,n.items,"FOLIO")))},dependencies:[c.Sq,r.hU,r.lO,r.uz,r.Dg,r.jh,r.JI,r.ln,r.S1,r.Gw,c.oe,c.vh,g.l],encapsulation:2}),a})();function x(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-item",3),e.bIt("click",function(){const n=e.eBV(o).$implicit,s=e.XpG();return e.Njj(s.openModal({casa:n.ID}))}),e.EFF(1),e.k0s()}if(2&i){const o=a.$implicit;e.R7$(),e.Lme(" ",o.ID," - ",o.NOMBRE," ")}}function Y(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",5),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",5),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&i){const o=a.$implicit;e.R7$(5),e.JRh(o.FOLIO),e.R7$(3),e.JRh(o.CONCEPTO.substr(0,16)),e.R7$(3),e.JRh(e.bMT(12,3,o.MONTO))}}function V(i,a){if(1&i&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",4),e.EFF(2),e.nI1(3,"date"),e.nI1(4,"currency"),e.k0s(),e.DNE(5,Y,13,5,"ion-item",3),e.k0s()),2&i){const o=a.$implicit,t=e.XpG();e.R7$(2),e.Lme(" ",e.i5U(3,3,o.header,"MMM.yy")," : ",e.bMT(4,6,t.sumMonto(o.details,o.header))," "),e.R7$(3),e.Y8G("ngForOf",o.details)}}let J=(()=>{var i;class a{constructor(t,n,s){this.modalCtrl=t,this.service=n,this.loadingUtil=s,this.items=[],this.itemsBackup=[]}ngOnInit(){var t=this;return(0,p.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}getdata(){var t=this;this.service.getFullData().subscribe(function(){var n=(0,p.A)(function*(s){t.items=s.filter((l,d,re)=>d===re.findIndex(ae=>ae.ID===l.ID)),t.itemsBackup=t.items.slice()});return function(s){return n.apply(this,arguments)}}())}openModal(t){var n=this;return(0,p.A)(function*(){yield(yield n.modalCtrl.create({component:z,componentProps:{casa:t.casa}})).present()})()}getItems(t){this.items=this.itemsBackup&&this.itemsBackup.slice();const n=t.target.value;n&&""!=n.trim()&&(this.items=this.items&&this.items.filter(s=>s.ID&&s.ID.toLowerCase().indexOf(n.toLowerCase())>-1||s.NOMBRE&&s.NOMBRE.toLowerCase().indexOf(n.toLowerCase())>-1))}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3),e.rXU(h.f),e.rXU(f.L))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-casas"]],standalone:!1,decls:4,vars:1,consts:[[3,"ionInput"],["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.bIt("ionInput",function(l){return n.getItems(l)}),e.k0s()(),e.j41(2,"ion-list",1),e.DNE(3,x,2,2,"ion-item",2),e.k0s()),2&t&&(e.R7$(3),e.Y8G("ngForOf",n.items))},dependencies:[c.Sq,r.uz,r.nf,r.AF,r.S1,r.Gw],encapsulation:2}),a})(),z=(()=>{var i;class a{constructor(t,n,s){this.modalCtrl=t,this.service=n,this.loadingUtil=s,this.casa="",this.items=[],this.name=""}ngOnInit(){var t=this;return(0,p.A)(function*(){t.name=t.casa,yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(n=>{this.items=[...n.filter(s=>s.CASA==this.name)],this.items.sort((s,l)=>s.MES&&l.MES&&s.MES>l.MES?-1:1),t.complete()})}getdata(){var t=this;console.log(this.casa),this.service.recibosDetalle$.subscribe(function(){var n=(0,p.A)(function*(s){t.items=[...s.filter(l=>l.CASA==t.name)],t.items.sort((l,d)=>l.MES&&d.MES&&l.MES>d.MES?-1:1)});return function(s){return n.apply(this,arguments)}}())}sumMonto(t,n){return t.filter(l=>l.MES==n).reduce((l,d)=>l+d.MONTO,0)}dismiss(){this.modalCtrl.dismiss()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3),e.rXU(h.f),e.rXU(f.L))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-casas-detail"]],inputs:{casa:"casa"},standalone:!1,decls:10,vars:6,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",0)(5,"button",1),e.bIt("click",function(){return n.dismiss()}),e.nrm(6,"ion-icon",2),e.k0s()()()(),e.j41(7,"ion-content"),e.DNE(8,V,6,8,"ion-item-group",3),e.nI1(9,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",n.name,""),e.R7$(5),e.Y8G("ngForOf",e.brH(9,2,n.items,"MES","desc")))},dependencies:[c.Sq,r.QW,r.hU,r.W9,r.lO,r.eU,r.iq,r.uz,r.Dg,r.jh,r.JI,r.ln,r.BC,r.ai,c.oe,c.vh,g.l],encapsulation:2}),a})();function W(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-fab",11)(1,"ion-fab-button",12),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.openModal({new:"Add"}))}),e.nrm(2,"ion-icon",13),e.k0s()()}}function Q(i,a){1&i&&(e.j41(0,"div"),e.nrm(1,"app-mes"),e.k0s())}function H(i,a){1&i&&(e.j41(0,"div"),e.nrm(1,"app-meses"),e.k0s())}function K(i,a){1&i&&(e.j41(0,"div"),e.nrm(1,"app-casas"),e.k0s())}function Z(i,a){1&i&&(e.j41(0,"div"),e.nrm(1,"app-folio"),e.k0s())}const q=[{path:"",component:(()=>{var i;class a{constructor(t,n,s,l){this.modalCtrl=t,this.recibosService=n,this.loadingUtil=s,this.alertUtil=l,this.option="Mes",this.isAndroid=!1,this.role="",this.itemsRecibos=[]}ngOnInit(){var t=this;return(0,p.A)(function*(){yield t.recibosService.getSpreadSheetId().then(()=>t.getdata());const n=localStorage.getItem("user");t.role=n?JSON.parse(n).ROLE:""})()}doRefresh(t){var n=this;return(0,p.A)(function*(){yield n.recibosService.getSpreadSheetId().then(()=>n.getdata()),n.loadingUtil.dismiss(),t.target.complete()})()}getdata(){var t=this;return(0,p.A)(function*(){t.loadingUtil.showing();try{const n=yield function R(i,a){const o="object"==typeof a;return new Promise((t,n)=>{const s=new v.Ms({next:l=>{t(l),s.unsubscribe()},error:n,complete:()=>{o?t(a.defaultValue):n(new F.G)}});i.subscribe(s)})}(t.recibosService.getFullDataDetail());t.itemsRecibos=[...n],t.itemsRecibos=[...t.itemsRecibos]}catch(n){t.alertUtil.showError("Error al cargar recibos: "+n)}finally{t.loadingUtil.dismiss()}})()}openModal(t){var n=this;return(0,p.A)(function*(){let s={};("Add"===t.new||"PicTicket"===t.new)&&(s=yield n.modalCtrl.create({component:b.c,componentProps:t})),yield s.present();const{data:l,role:d}=yield s.onWillDismiss();"confirm"===d&&Array.isArray(l)&&l.length>0&&(n.itemsRecibos.push(...l),n.itemsRecibos=[...n.itemsRecibos],n.recibosService.recibosDetalle$.next(n.itemsRecibos))})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(r.W3),e.rXU(h.f),e.rXU(f.L),e.rXU(I.l))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-recibos"]],standalone:!1,decls:20,vars:7,consts:[["color","primary"],[3,"ngModelChange","ngModel"],["value","Mes"],["value","Meses"],["value","Casa"],["value","Folio"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refrescando..."],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-segment",1),e.mxI("ngModelChange",function(l){return e.DH7(n.option,l)||(n.option=l),l}),e.j41(3,"ion-segment-button",2),e.EFF(4," Mes "),e.k0s(),e.j41(5,"ion-segment-button",3),e.EFF(6," Meses "),e.k0s(),e.j41(7,"ion-segment-button",4),e.EFF(8," Casa "),e.k0s(),e.j41(9,"ion-segment-button",5),e.EFF(10," Folio "),e.k0s()()()(),e.j41(11,"ion-content"),e.DNE(12,W,3,0,"ion-fab",6),e.j41(13,"ion-refresher",7),e.bIt("ionRefresh",function(l){return n.doRefresh(l)}),e.nrm(14,"ion-refresher-content",8),e.k0s(),e.qex(15,9),e.DNE(16,Q,2,0,"div",10)(17,H,2,0,"div",10)(18,K,2,0,"div",10)(19,Z,2,0,"div",10),e.bVm(),e.k0s()),2&t&&(e.R7$(2),e.R50("ngModel",n.option),e.R7$(10),e.Y8G("ngIf","reader"!=n.role),e.R7$(3),e.Y8G("ngSwitch",n.option),e.R7$(),e.Y8G("ngSwitchCase","Mes"),e.R7$(),e.Y8G("ngSwitchCase","Meses"),e.R7$(),e.Y8G("ngSwitchCase","Casa"),e.R7$(),e.Y8G("ngSwitchCase","Folio"))},dependencies:[r.W9,r.Q8,r.YW,r.eU,r.iq,r.To,r.Ki,r.Gp,r.eP,r.ai,r.Je,c.bT,c.ux,c.e1,u.BC,u.vS,j,w,L,J],encapsulation:2}),a})()}];let ee=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[C.iI.forChild(q),C.iI]}),a})(),te=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.MD,u.YN,r.bv,u.X1]}),a})(),ie=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[r.bv,c.MD,u.YN,u.X1]}),a})(),ne=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.MD,u.YN,r.bv,u.X1]}),a})(),oe=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[c.MD,u.YN,r.bv,u.X1]}),a})(),se=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[r.bv,c.MD,u.YN,ee,te,ie,ne,oe]}),a})()}}]);