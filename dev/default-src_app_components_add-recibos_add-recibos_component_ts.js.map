{"version":3,"file":"default-src_app_components_add-recibos_add-recibos_component_ts.js","mappings":"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","sources":["./src/app/components/add-recibos/add-recibos.component.ts","./src/app/components/add-recibos/add-recibos.component.html","./src/app/utils/alertUtil.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {\n  FormArray,\n  FormBuilder,\n  FormGroup,\n  Validators\n} from '@angular/forms';\nimport {\n  ActionSheetController,\n  LoadingController,\n  ModalController\n} from '@ionic/angular';\nimport {\n  Casa,\n  Concepto,\n  ConceptoDef,\n  Recibo,\n  ReciboDetalle,\n  ReciboMaxFolio\n} from '../../interface/recibos';\nimport { RecibosService } from '../../service/recibos.service';\nimport { LoadingUtil } from '../../utils/loadingUtil';\nimport { ToastUtil } from '../../utils/toastUtil';\nimport { AlertUtil } from 'src/app/utils/alertUtil';\n\n@Component({\n  selector: 'app-add-recibos',\n  templateUrl: './add-recibos.component.html',\n  styleUrls: ['./add-recibos.component.css'],\n  standalone: false,\n})\n// export class AddRecibosComponent extends LoadingUtil implements OnInit {\nexport class AddRecibosComponent implements OnInit {\n  item: Recibo = {\n    FOLIO: 0,\n    CASA: '',\n    NOMBRE: '',\n    CANTIDAD: '',\n    CONCEPTO: '',\n    FECHA: '',\n    CORREO: '',\n    INPUT_TIMESTAMP: ''\n  };\n  itemDetail: ReciboDetalle[] = [];\n  casas: Casa[] = [];\n  casa: Casa | any;\n  conceptos: ConceptoDef[] = [];\n  data: boolean = false;\n  sendEmail: boolean = false;\n\n  date = new Date(); // Or the date you'd like converted.\n  today = new Date(\n    this.date.getTime() - this.date.getTimezoneOffset() * 60000\n  );\n  public fields: FormGroup;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private actionSheetCtrl: ActionSheetController,\n    private formBuilder: FormBuilder,\n    private service: RecibosService,\n    // loadingCtrl: LoadingController,\n    private loadingUtil: LoadingUtil,\n    private toastUtil: ToastUtil,\n    private alertUtil: AlertUtil\n  ) {\n    // super(loadingCtrl);\n    this.fields = this.formBuilder.group({\n      folio: ['', Validators.required],\n      casa: ['', Validators.required],\n      nombre: ['', Validators.required],\n      fecha: ['', Validators.required],\n      email: ['', Validators.required],\n      sendEmail: '',\n      cantidad: ['', Validators.required],\n      conceptos: this.formBuilder.array([this.frmConceptos()])\n    });\n  }\n\n  frmConceptos(): FormGroup {\n    return this.formBuilder.group({\n      concepto: ['', [Validators.required, Validators.minLength(3)]],\n      mes: ['', [Validators.required]],\n      monto: ['', [Validators.required, Validators.min(0), Validators.pattern(/^\\d+(\\.\\d{1,2})?$/)]]\n    });\n  }\n\n  get conceptoForm() {\n    return this.fields.get('conceptos') as FormArray;\n  }\n\n  ngOnInit() {\n    this.service.getSpreadSheetId().then(() => {\n      // const FOLIO = this.getMaxFolio();\n      const formattedDate = this.today.toJSON().split('T')[0];\n      this.fields.patchValue({ fecha: formattedDate });\n      this.inittial();\n      // this.dismiss();\n    });\n    this.loadingUtil.showing();\n  }\n\n  getMaxFolio() {\n    this.service.getFullDataDetail().subscribe(\n      {\n         next: (resp: ReciboDetalle[] | any) => {\n          const FOLIO = Math.max(...resp.map((row: { FOLIO: any; }) => row.FOLIO)) + 1;\n          this.fields.patchValue({ folio: FOLIO });\n          this.loadingUtil.dismiss();\n        }, error: err => {\n          const FOLIO = 1;\n          this.fields.patchValue({ folio: FOLIO });\n          this.loadingUtil.dismiss();\n          this.alertUtil.showError('No se pudo obtener el folio: ' + err.message);\n        }\n      });\n  }\n\n  inittial() {\n    this.service.getFullData().subscribe({\n      next: (resp: Casa[] | any) => {\n      this.casas = resp || [];\n      // this.dismiss();\n      this.service.getConceptos().subscribe((resp: ConceptoDef[] | any) => {\n        this.conceptos = resp || [];\n        // console.log(this.conceptos);\n        this.getMaxFolio();\n        });\n      },\n      error: async (err) => {\n        console.error('Error al cargar datos:', err);\n        this.loadingUtil.dismiss();\n        this.alertUtil.showError('No se pudieron cargar los datos: ' + err.message);\n      }\n    });\n  }\n\n  onChangeCasa(event: CustomEvent) {\n    const _casa: Casa = event.detail.value;\n    if (_casa.ID) {\n      this.casa = this.casas.find((data: Casa) => {\n        if (data.ID === _casa.ID && data.NOMBRE === _casa.NOMBRE) {\n          return data;\n        }\n        return null;\n      });\n\n      this.fields.patchValue({\n        nombre: this.casa.NOMBRE,\n        email: this.casa.EMAIL,\n        sendEmail: true\n      });\n    }\n  }\n\n  onChangeConcepto(event: CustomEvent, i: number) {\n    const _concepto: ConceptoDef = event.detail.value;\n    if (_concepto) {\n      const control = <FormArray>this.fields.controls['conceptos'];\n      let _monto = this.calMontoConcepto();\n      control.at(i).patchValue({\n        mes: this.getFirstDayOfMonth(),\n        monto: _monto\n      });\n    }\n  }\n\n  calMontoConcepto() {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    let sumMonto: number = 0;\n      control.controls.forEach((data: any) => {\n        sumMonto += data.value.monto;\n      });\n      return this.fields.value.cantidad - sumMonto;\n  }\n\n  getFirstDayOfMonth() {\n    const firstDayOfMonth = new Date(this.today.getFullYear(), this.today.getMonth(), 1).toJSON().split('T')[0];\n    return firstDayOfMonth;\n  }\n\n  async onSave(_recibo: any) {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: '¿Desea guardar el recibo?',\n      buttons: [\n        {\n          text: 'Aceptar',\n          role: 'confirm',\n          icon: 'checkmark',\n          handler: () => {\n            this.save(_recibo);\n          }\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          icon: 'close',\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n  save(_recibo: any) {\n    let _casa = _recibo.casa;\n    _recibo.casa = _casa.ID;\n    this.fillEvent(_recibo);\n    this.service.save(this.item, this.itemDetail).subscribe( {\n      next: resp => {\n        // console.log(\"resp save item\", resp);\n        if (this.sendEmail) {\n          let fecha = new Date(_recibo.fecha);\n          let date = new Date(\n            fecha.getTime() + this.date.getTimezoneOffset() * 60000\n          ); //add 1 day\n          // console.log(_recibo.fecha);\n          _recibo.fecha = date.toLocaleDateString();\n          // console.log(_recibo.fecha);\n          this.service.sendEmail(_recibo, _recibo.conceptos).subscribe({\n            next: resp => {\n              // console.log('resp save item', resp);\n              this.meesageToast('correo enviado');\n            },\n            error: err => {\n              console.log('Error email: ', err);\n            }\n          });\n        }\n        this.meesageToast('Se guardo exitosamente');\n        this.loadingUtil.dismiss();\n        this.confirm(this.itemDetail);\n      },\n      error: err => {\n        //console.log(\"Error Detail: \", err);\n        this.meesageToast('No se pudo guardar el dato');\n        this.loadingUtil.dismiss();\n      }\n  });\n    this.loadingUtil.showing();\n    _recibo.sendEmail = true;\n  }\n\n  fillEvent(_recibo: any) {\n    // console.log(\"event\", _recibo);\n    this.item.FOLIO = _recibo.folio;\n    let fecha = new Date(_recibo.fecha);\n    this.item.FECHA = _recibo.fecha;\n    this.item.CASA = _recibo.casa;\n    this.item.NOMBRE = _recibo.nombre;\n    this.item.CORREO = _recibo.email;\n    this.item.CANTIDAD = _recibo.cantidad;\n    // console.log(\"this.item\", this.item);\n    var conceptos = _recibo.conceptos;\n    this.itemDetail = [];\n    if (conceptos) {\n      this.item.CONCEPTO = _recibo.conceptos[0].concepto;\n      //console.log(\"conceptos\", conceptos);\n      conceptos.forEach((data: Concepto) => {\n        var detail: ReciboDetalle = {};\n        detail.FOLIO = _recibo.folio;\n        detail.CASA = _recibo.casa;\n        detail.NOMBRE = _recibo.nombre;\n        detail.CONCEPTO = data.concepto;\n        detail.MES = data.mes;\n        detail.MONTO = data.monto;\n        //console.log(\"detail\", detail);\n        this.itemDetail.push(detail);\n      });\n    }\n    // console.log(\"this.itemDetail\", this.itemDetail);\n  }\n\n  removeInputField(i: number): void {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    control.removeAt(i);\n  }\n\n  addNewInputField(): void {\n    const control = <FormArray>this.fields.controls['conceptos'];\n    control.push(this.frmConceptos());\n  }\n\n  /* async meesageToast(_message: string) {\n    let toast = await this.toastCtrl.create({\n      message: _message,\n      duration: 3000,\n      position: 'top'\n    });\n\n    toast.present();\n  } */\n\n  meesageToast(_message: string) {\n    this.toastUtil.presentToast(_message, \"top\");\n  }\n\n  confirm(reciboDetalles: any) {\n      this.modalCtrl.dismiss(reciboDetalles, 'confirm');\n  }\n\n  close() {\n    this.modalCtrl.dismiss(null, 'cancel');\n  }\n}\n","<ion-header>\n\t<ion-toolbar>\n\t\t<ion-title>Agregar Recibos</ion-title>\n\t\t<ion-buttons slot=\"start\">\n\t\t\t<ion-button (click)=\"close()\">\n\t\t\t<ion-icon name=\"close\" ></ion-icon>\n\t\t\t</ion-button>\n\t\t</ion-buttons>\n\t</ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n\t<form [formGroup]=\"fields\" (ngSubmit)=\"onSave(fields.value)\">\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Folio\" labelPlacement=\"floating\" id=\"folio\" type=\"number\" formControlName=\"folio\">\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Fecha\" labelPlacement=\"floating\" id=\"fecha\" type=\"date\" formControlName=\"fecha\"></ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-select label=\"Casa\" labelPlacement=\"floating\"\n\t\t\t\tid=\"casa\" interface=\"popover\" formControlName=\"casa\" (ionChange)=\"onChangeCasa($event)\">\n\t\t\t\t<ion-select-option *ngFor=\"let casa of casas\" [value]=\"casa\">{{casa.ID}}--{{casa.NOMBRE}}\n\t\t\t\t</ion-select-option>\n\t\t\t\t<ion-select-option> </ion-select-option>\n\t\t\t\t<ion-select-option></ion-select-option>\n\t\t\t</ion-select>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Nombre\" labelPlacement=\"floating\" id=\"nombre\" type=\"text\" formControlName=\"nombre\">\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Email\" labelPlacement=\"floating\" id=\"email\" type=\"email\" formControlName=\"email\">\n\t\t\t</ion-input>\n\t\t\t<ion-checkbox id=\"sendEmail\" item-right secondary formControlName=\"sendEmail\" color=\"green\">\n\t\t\t</ion-checkbox>\n\t\t</ion-item>\n\t\t<ion-item>\n\t\t\t<ion-input label=\"Cantidad\" labelPlacement=\"floating\"  id=\"cantidad\" type=\"number\" formControlName=\"cantidad\">\n\t\t\t\t<ion-icon slot=\"start\" name=\"cash\" aria-hidden=\"true\"></ion-icon>\n\t\t\t</ion-input>\n\t\t</ion-item>\n\t\t<!-- Detail -->\n\t\t<div formArrayName=\"conceptos\" margin-bottom>\n\t\t\t<section *ngFor=\"let control of conceptoForm.controls; let i = index\" [formGroupName]=\"i\" >\n\t\t\t\t<ion-item-group>\n\t\t\t\t\t<ion-item-divider color=\"light\">Conceptos #{{ i + 1 }}</ion-item-divider>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-select label=\"Concepto:\" labelPlacement=\"floating\"  interface=\"popover\" id=\"concepto\" formControlName=\"concepto\" (ionChange)=\"onChangeConcepto($event, i)\">\n\t\t\t\t\t\t\t<ion-select-option *ngFor=\"let row of conceptos\" [value]=\"row.NOMBRE\">\n\t\t\t\t\t\t\t\t{{row.NOMBRE}}\n\t\t\t\t\t\t\t</ion-select-option>\n\t\t\t\t\t\t</ion-select>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-label floating>Mes:</ion-label>\n\t\t\t\t\t\t\t<!-- <ion-input type=\"date\" maxlength=\"50\" formControlName=\"mes\"></ion-input> -->\n\t\t\t\t\t\t\t<ion-datetime id=\"mes\" displayFormat=\"MMM. YYYY\" formControlName=\"mes\"\n\t\t\t\t\t\t\tmonthShortNames=\"Ene, Feb, Mar, Apr, May, Jun, Jul, Ago, Sep, Oct, Nov, Dic\"\n\t\t\t\t\t\t\tpresentation=\"month-year\"\n\t\t\t\t\t\t[preferWheel]=\"true\">\n\t\t\t\t\t\t</ion-datetime>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<ion-item>\n\t\t\t\t\t\t<ion-input label=\"Monto:\" labelPlacement=\"floating\"  id=\"monto\" type=\"number\" maxlength=\"50\" formControlName=\"monto\"></ion-input>\n\t\t\t\t\t</ion-item>\n\t\t\t\t\t<!-- Allow generated input field to be removed -->\n\t\t\t\t\t<ion-button size=\"small\" fill=\"clear\" color=\"danger\" *ngIf=\"conceptoForm.length > 1\"\n                     (click)=\"removeInputField(i)\">\n                     <ion-icon name=\"close\"></ion-icon>\n                     eliminar\n                  </ion-button>\n\t\t\t\t</ion-item-group>\n\t\t\t</section>\n\t\t</div>\n\t\t<!-- Allow new input field to be generated/added -->\n\t\t<ion-button size=\"small\" fill=\"clear\" color=\"primary\"\n            (click)=\"addNewInputField()\">\n            <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n\t\t\tnuevo concepto\n         </ion-button>\n\t\t<ion-button type=\"submit\" expand=\"block\" [disabled]=\"!fields.valid\" >Agregar</ion-button>\n\t</form>\n</ion-content>\n","import { Injectable } from \"@angular/core\";\nimport { AlertController } from \"@ionic/angular\";\n\n@Injectable({ providedIn: 'root' })\nexport class AlertUtil {\n\n  constructor(private alertCtrl: AlertController) {}\n\n  async showSucess(message: string) {\n    const alert = await this.alertCtrl.create({\n      header: 'Exito',\n      message: message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n    console.log('Success:', message);\n  }\n\n  async showError(message: string) {\n    const alert = await this.alertCtrl.create({\n      header: 'Error',\n      message: message,\n      buttons: ['OK'],\n    });\n    await alert.present();\n    console.error('Error:', message);\n  }\n\n}\n"],"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","casa_r1","ɵɵadvance","ɵɵtextInterpolate2","ID","NOMBRE","row_r5","ɵɵtextInterpolate1","ɵɵlistener","AddRecibosComponent_section_27_ion_button_13_Template_ion_button_click_0_listener","ɵɵrestoreView","_r6","i_r3","ɵɵnextContext","index","ctx_r3","ɵɵresetView","removeInputField","ɵɵelement","AddRecibosComponent_section_27_Template_ion_select_ionChange_5_listener","$event","_r2","onChangeConcepto","ɵɵtemplate","AddRecibosComponent_section_27_ion_select_option_6_Template","AddRecibosComponent_section_27_ion_button_13_Template","conceptos","conceptoForm","length","AddRecibosComponent","constructor","modalCtrl","actionSheetCtrl","formBuilder","service","loadingUtil","toastUtil","alertUtil","item","FOLIO","CASA","CANTIDAD","CONCEPTO","FECHA","CORREO","INPUT_TIMESTAMP","itemDetail","casas","data","sendEmail","date","Date","today","getTime","getTimezoneOffset","fields","group","folio","required","casa","nombre","fecha","email","cantidad","array","frmConceptos","concepto","minLength","mes","monto","min","pattern","get","ngOnInit","getSpreadSheetId","then","formattedDate","toJSON","split","patchValue","inittial","showing","getMaxFolio","getFullDataDetail","subscribe","next","resp","Math","max","map","row","dismiss","error","err","showError","message","_this","getFullData","getConceptos","_ref","_asyncToGenerator","console","_x","apply","arguments","onChangeCasa","event","_casa","detail","value","find","EMAIL","i","_concepto","control","controls","_monto","calMontoConcepto","at","getFirstDayOfMonth","sumMonto","forEach","firstDayOfMonth","getFullYear","getMonth","onSave","_recibo","_this2","actionSheet","create","header","buttons","text","role","icon","handler","save","present","fillEvent","toLocaleDateString","meesageToast","log","confirm","MES","MONTO","push","removeAt","addNewInputField","_message","presentToast","reciboDetalles","close","ɵɵdirectiveInject","i1","ModalController","ActionSheetController","i2","FormBuilder","i3","RecibosService","i4","LoadingUtil","i5","ToastUtil","i6","AlertUtil","selectors","standalone","decls","vars","consts","template","AddRecibosComponent_Template","rf","ctx","AddRecibosComponent_Template_ion_button_click_5_listener","AddRecibosComponent_Template_form_ngSubmit_8_listener","AddRecibosComponent_Template_ion_select_ionChange_14_listener","AddRecibosComponent_ion_select_option_15_Template","AddRecibosComponent_section_27_Template","AddRecibosComponent_Template_ion_button_click_28_listener","valid","alertCtrl","showSucess","alert","ɵɵinject","AlertController","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}