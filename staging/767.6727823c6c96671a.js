"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[767],{767:(Fe,$,c)=>{c.r($),c.d($,{RecibosPageModule:()=>W});var o=c(9618),l=c(316),p=c(496),j=c(4908),m=c(9204),A=c(4885),Q=c(3335),H=c(9931);var e=c(7404),u=c(4735),d=c(7568),Z=c(7578);class O{lastSumMonto(t,i){return t.filter(a=>a.CASA==i).reduce((a,r)=>a+r.MONTO,0)}sumMonto(t,i){var n=t.filter(r=>r.CASA==i);let a=(new Date).getMonth();return(n=n.filter(r=>new Date(r.MES).getMonth()===a)).reduce((r,D)=>r+D.MONTO,0)}sizeMonto(t,i){var n=t.filter(r=>r.CASA==i);let a=(new Date).getMonth();return(n=n.filter(r=>new Date(r.MES).getMonth()===a)).length}}var v,F,I,R,q=c(9475),h=c(4435);function ee(s,t){if(1&s&&(e.j41(0,"ion-badge",6),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(i.details,i.header)," pago")}}function te(s,t){if(1&s&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(i.details,i.header)," pago")}}function ie(s,t){if(1&s&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&s){const i=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(i.details,i.header)," pagos")}}function ne(s,t){if(1&s){const i=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const a=e.eBV(i).$implicit,r=e.XpG();return e.Njj(r.openModal({detail:a.details}))}),e.j41(1,"ion-label")(2,"ion-badge",3),e.EFF(3),e.k0s(),e.EFF(4),e.nI1(5,"currency"),e.DNE(6,ee,2,1,"ion-badge",4)(7,te,2,1,"ion-badge",5)(8,ie,2,1,"ion-badge",5),e.k0s()()}if(2&s){const i=t.$implicit,n=e.XpG();e.R7$(3),e.JRh(n.lastSumMonto(n.itemsLastMonth,i.header)),e.R7$(),e.E5c(" ",i.header," - ",i.details[0].NOMBRE.substr(0,15)," : ",e.bMT(5,7,n.sumMonto(i.details,i.header))," "),e.R7$(2),e.Y8G("ngIf",0==n.sizeMonto(i.details,i.header)),e.R7$(),e.Y8G("ngIf",1==n.sizeMonto(i.details,i.header)),e.R7$(),e.Y8G("ngIf",n.sizeMonto(i.details,i.header)>1)}}function oe(s,t){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s(),e.j41(6,"ion-note"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.k0s()(),e.j41(12,"ion-col")(13,"ion-note",6),e.EFF(14),e.nI1(15,"currency"),e.k0s()()()()()),2&s){const i=t.$implicit;e.R7$(5),e.SpI("",i.FOLIO," -"),e.R7$(2),e.JRh(e.i5U(8,4,i.MES,"MMM")),e.R7$(4),e.JRh(i.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(15,7,i.MONTO))}}function se(s,t){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,oe,16,9,"ion-item",4),e.k0s()),2&s){const i=t.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",i.header," : ",e.bMT(3,3,n.sumMonto(i.details,i.header))," "),e.R7$(2),e.Y8G("ngForOf",i.details)}}class T extends O{constructor(t,i,n){super(),this.modalCtrl=t,this.service=i,this.loadingUtil=n,this.items=[]}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.getdata(),t.target.complete()}getdata(){this.service.getFullDataDetail().pipe((0,q.j)(()=>this.loadingUtil.dismiss())).subscribe(t=>{this.items=t,this.items.sort((n,a)=>n.CASA&&a.CASA&&n.CASA>a.CASA?1:-1),this.itemsBackup=this.items?this.items.slice():[],this.title=(new Date).toDateString();let i=(new Date).getMonth()-1;this.itemsLastMonth=t.filter(n=>n.MES&&new Date(n.MES).getMonth()===i),this.itemsLastMonth.sort((n,a)=>n.CASA&&a.CASA&&n.CASA>a.CASA?1:-1)})}getItems(t){this.items=this.itemsBackup.slice();const i=t.target.value;i&&""!=i.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(i.toLowerCase())>-1))}openModal(t){var i=this;return(0,m.A)(function*(){yield(yield i.modalCtrl.create({component:U,componentProps:{detail:t.detail}})).present()})()}}(v=T).\u0275fac=function(t){return new(t||v)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},v.\u0275cmp=e.VBU({type:v,selectors:[["app-mes"]],standalone:!1,features:[e.Vt3],decls:6,vars:9,consts:[[3,"ionInput","placeholder"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","light","slot","start"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","danger"],["color","secondary"]],template:function(t,i){1&t&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.nI1(2,"date"),e.bIt("ionInput",function(a){return i.getItems(a)}),e.k0s()(),e.j41(3,"ion-list"),e.DNE(4,ne,9,9,"ion-item",1),e.nI1(5,"groupBy"),e.k0s()),2&t&&(e.R7$(),e.Mz_("placeholder","Pagos del mes de ",e.i5U(2,3,i.title,"MMM.yy"),""),e.R7$(3),e.Y8G("ngForOf",e.i5U(5,6,i.items,"CASA")))},dependencies:[l.Sq,l.bT,o.In,o.uz,o.he,o.nf,o.AF,o.S1,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class U extends O{constructor(t){super(),this.modalCtrl=t,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(t){this.items=this.itemsBackup?this.itemsBackup.slice():[];const i=t.target.value;i&&""!=i.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(i.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}function ae(s,t){if(1&s){const i=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const a=e.eBV(i).$implicit,r=e.XpG();return e.Njj(r.openModal({detail:a.details}))}),e.EFF(1),e.nI1(2,"date"),e.k0s()}if(2&s){const i=t.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,i.header,"MMM.yy")," ")}}function re(s,t){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",6),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&s){const i=t.$implicit;e.R7$(5),e.JRh(i.FOLIO),e.R7$(3),e.JRh(i.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(12,3,i.MONTO))}}function le(s,t){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,re,13,5,"ion-item",4),e.k0s()),2&s){const i=t.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",i.header," : ",e.bMT(3,3,n.sumMonto(i.details,i.header))," "),e.R7$(2),e.Y8G("ngForOf",i.details)}}(F=U).\u0275fac=function(t){return new(t||F)(e.rXU(o.W3))},F.\u0275cmp=e.VBU({type:F,selectors:[["app-mes-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["slot","start"],[3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"ion-button",1),e.bIt("click",function(){return i.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(a){return i.getItems(a)}),e.k0s()(),e.DNE(11,se,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,i.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,i.items,"CASA")))},dependencies:[l.Sq,o.Jm,o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.AF,o.JI,o.ln,o.S1,o.BC,o.ai,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class G extends O{constructor(t,i,n){super(),this.modalCtrl=t,this.service=i,this.loadingUtil=n,this.items=[]}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(i=>{this.items=[...i],t.complete(),this.items.sort((n,a)=>n.MES&&a.MES&&n.MES>a.MES?-1:1)})}getdata(){var t=this;this.service.recibosDetalle$.subscribe(function(){var i=(0,m.A)(function*(n){t.items=[...n],t.items.sort((a,r)=>a.MES&&r.MES&&a.MES>r.MES?-1:1)});return function(n){return i.apply(this,arguments)}}())}openModal(t){var i=this;return(0,m.A)(function*(){yield(yield i.modalCtrl.create({component:B,componentProps:{detail:t.detail}})).present()})()}}(I=G).\u0275fac=function(t){return new(t||I)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},I.\u0275cmp=e.VBU({type:I,selectors:[["app-meses"]],standalone:!1,features:[e.Vt3],decls:3,vars:5,consts:[["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-list",0),e.DNE(1,ae,3,4,"ion-item",1),e.nI1(2,"groupBy"),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngForOf",e.brH(2,1,i.items,"MES","reverse")))},dependencies:[o.uz,o.nf,l.Sq,l.vh,h.l],encapsulation:2});class B extends O{constructor(t){super(),this.modalCtrl=t,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(t){this.items=this.itemsBackup.slice(),console.log("this.items",this.items);const i=t.target.value;i&&""!=i.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(i.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}(R=B).\u0275fac=function(t){return new(t||R)(e.rXU(o.W3))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-meses-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"button",1),e.bIt("click",function(){return i.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(a){return i.getItems(a)}),e.k0s()(),e.DNE(11,le,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,i.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,i.items,"CASA")))},dependencies:[o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.AF,o.JI,o.ln,o.S1,o.BC,o.ai,o.Gw,l.Sq,l.oe,l.vh,h.l],encapsulation:2});var S,y,k,ce=c(6482);function me(s,t){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note",3),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"ion-col")(8,"ion-note",3),e.EFF(9),e.k0s()(),e.j41(10,"ion-col")(11,"ion-note",3),e.EFF(12),e.nI1(13,"currency"),e.k0s()()()()()),2&s){const i=t.$implicit;e.R7$(5),e.JRh(e.i5U(6,3,i.MES,"MMM.yy")),e.R7$(4),e.JRh(i.CONCEPTO),e.R7$(3),e.JRh(e.bMT(13,6,i.MONTO))}}function pe(s,t){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",2),e.EFF(2),e.k0s(),e.DNE(3,me,14,8,"ion-item",1),e.k0s()),2&s){const i=t.$implicit;e.R7$(2),e.SpI(" ",i.header," "),e.R7$(),e.Y8G("ngForOf",i.details)}}class w extends d.L{constructor(t,i,n){super(n),this.navCtrl=t,this.service=i,this.items=[],this.itemsBackup=[]}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(i=>{this.items=i,this.itemsBackup=this.items.slice(),t.complete()})}getdata(){var t=this;this.service.getFullDataDetail().subscribe(function(){var i=(0,m.A)(function*(n){t.items=n,t.itemsBackup=t.items.slice()});return function(n){return i.apply(this,arguments)}}())}getItems(t){this.items=this.itemsBackup.slice();const i=t.target.value;i&&""!=i.trim()&&(this.items=this.items.filter(n=>n.FOLIO==i))}}function ue(s,t){if(1&s){const i=e.RV6();e.j41(0,"ion-item",3),e.bIt("click",function(){const a=e.eBV(i).$implicit,r=e.XpG();return e.Njj(r.openModal({casa:a.ID}))}),e.EFF(1),e.k0s()}if(2&s){const i=t.$implicit;e.R7$(),e.Lme(" ",i.ID," - ",i.NOMBRE," ")}}function de(s,t){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",5),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",5),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&s){const i=t.$implicit;e.R7$(5),e.JRh(i.FOLIO),e.R7$(3),e.JRh(i.CONCEPTO.substr(0,16)),e.R7$(3),e.JRh(e.bMT(12,3,i.MONTO))}}function he(s,t){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",4),e.EFF(2),e.nI1(3,"date"),e.nI1(4,"currency"),e.k0s(),e.DNE(5,de,13,5,"ion-item",3),e.k0s()),2&s){const i=t.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",e.i5U(3,3,i.header,"MMM.yy")," : ",e.bMT(4,6,n.sumMonto(i.details,i.header))," "),e.R7$(3),e.Y8G("ngForOf",i.details)}}(S=w).\u0275fac=function(t){return new(t||S)(e.rXU(ce.q9),e.rXU(u.f),e.rXU(o.Xi))},S.\u0275cmp=e.VBU({type:S,selectors:[["app-folio"]],standalone:!1,features:[e.Vt3],decls:3,vars:4,consts:[[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,i){1&t&&(e.j41(0,"ion-searchbar",0),e.bIt("ionInput",function(a){return i.getItems(a)}),e.k0s(),e.DNE(1,pe,4,2,"ion-item-group",1),e.nI1(2,"groupBy")),2&t&&(e.R7$(),e.Y8G("ngForOf",e.i5U(2,1,i.items,"FOLIO")))},dependencies:[l.Sq,o.hU,o.lO,o.uz,o.Dg,o.jh,o.JI,o.ln,o.S1,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class X{constructor(t,i,n){this.modalCtrl=t,this.service=i,this.loadingUtil=n,this.items=[],this.itemsBackup=[]}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}getdata(){var t=this;this.service.getFullData().subscribe(function(){var i=(0,m.A)(function*(n){t.items=n.filter((a,r,D)=>r===D.findIndex(ve=>ve.ID===a.ID)),t.itemsBackup=t.items.slice()});return function(n){return i.apply(this,arguments)}}())}openModal(t){var i=this;return(0,m.A)(function*(){yield(yield i.modalCtrl.create({component:N,componentProps:{casa:t.casa}})).present()})()}getItems(t){this.items=this.itemsBackup&&this.itemsBackup.slice();const i=t.target.value;i&&""!=i.trim()&&(this.items=this.items&&this.items.filter(n=>n.ID&&n.ID.toLowerCase().indexOf(i.toLowerCase())>-1||n.NOMBRE&&n.NOMBRE.toLowerCase().indexOf(i.toLowerCase())>-1))}}(y=X).\u0275fac=function(t){return new(t||y)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},y.\u0275cmp=e.VBU({type:y,selectors:[["app-casas"]],standalone:!1,decls:4,vars:1,consts:[[3,"ionInput"],["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(t,i){1&t&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.bIt("ionInput",function(a){return i.getItems(a)}),e.k0s()(),e.j41(2,"ion-list",1),e.DNE(3,ue,2,2,"ion-item",2),e.k0s()),2&t&&(e.R7$(3),e.Y8G("ngForOf",i.items))},dependencies:[l.Sq,o.uz,o.nf,o.AF,o.S1,o.Gw],encapsulation:2});class N{constructor(t,i,n){this.modalCtrl=t,this.service=i,this.loadingUtil=n,this.casa="",this.items=[],this.name=""}ngOnInit(){var t=this;return(0,m.A)(function*(){t.name=t.casa,yield t.service.getSpreadSheetId().then(()=>t.getdata())})()}doRefresh(t){this.service.getFullDataDetail().subscribe(i=>{this.items=[...i.filter(n=>n.CASA==this.name)],this.items.sort((n,a)=>n.MES&&a.MES&&n.MES>a.MES?-1:1),t.complete()})}getdata(){var t=this;console.log(this.casa),this.service.recibosDetalle$.subscribe(function(){var i=(0,m.A)(function*(n){t.items=[...n.filter(a=>a.CASA==t.name)],t.items.sort((a,r)=>a.MES&&r.MES&&a.MES>r.MES?-1:1)});return function(n){return i.apply(this,arguments)}}())}sumMonto(t,i){return t.filter(a=>a.MES==i).reduce((a,r)=>a+r.MONTO,0)}dismiss(){this.modalCtrl.dismiss()}}(k=N).\u0275fac=function(t){return new(t||k)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},k.\u0275cmp=e.VBU({type:k,selectors:[["app-casas-detail"]],inputs:{casa:"casa"},standalone:!1,decls:10,vars:6,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",0)(5,"button",1),e.bIt("click",function(){return i.dismiss()}),e.nrm(6,"ion-icon",2),e.k0s()()()(),e.j41(7,"ion-content"),e.DNE(8,he,6,8,"ion-item-group",3),e.nI1(9,"groupBy"),e.k0s()),2&t&&(e.R7$(3),e.SpI("Detalle de ",i.name,""),e.R7$(5),e.Y8G("ngForOf",e.brH(9,2,i.items,"MES","desc")))},dependencies:[l.Sq,o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.JI,o.ln,o.BC,o.ai,l.oe,l.vh,h.l],encapsulation:2});var E,f,P=c(5441);function fe(s,t){if(1&s){const i=e.RV6();e.j41(0,"ion-fab",13)(1,"ion-fab-button",14),e.bIt("click",function(){e.eBV(i);const a=e.XpG();return e.Njj(a.openModal({new:"Add"}))}),e.nrm(2,"ion-icon",15),e.k0s()()}}function ge(s,t){1&s&&(e.j41(0,"div"),e.nrm(1,"app-mes"),e.k0s())}function _e(s,t){1&s&&(e.j41(0,"div"),e.nrm(1,"app-meses"),e.k0s())}function Me(s,t){1&s&&(e.j41(0,"div"),e.nrm(1,"app-casas"),e.k0s())}function Ce(s,t){1&s&&(e.j41(0,"div"),e.nrm(1,"app-folio"),e.k0s())}class L{constructor(t,i,n,a){this.modalCtrl=t,this.recibosService=i,this.loadingUtil=n,this.alertUtil=a,this.option="Mes",this.isAndroid=!1,this.role="",this.itemsRecibos=[]}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.recibosService.getSpreadSheetId().then(()=>t.getdata());const i=localStorage.getItem("user");t.role=i?JSON.parse(i).ROLE:""})()}doRefresh(t){var i=this;return(0,m.A)(function*(){yield i.recibosService.getSpreadSheetId().then(()=>i.getdata()),i.loadingUtil.dismiss(),t.target.complete()})()}getdata(){var t=this;return(0,m.A)(function*(){t.loadingUtil.showing();try{const i=yield function K(s,t){const i="object"==typeof t;return new Promise((n,a)=>{const r=new H.Ms({next:D=>{n(D),r.unsubscribe()},error:a,complete:()=>{i?n(t.defaultValue):a(new Q.G)}});s.subscribe(r)})}(t.recibosService.getFullDataDetail());t.itemsRecibos=[...i],t.itemsRecibos=[...t.itemsRecibos]}catch(i){t.alertUtil.showError("Error al cargar recibos: "+i)}finally{t.loadingUtil.dismiss()}})()}openModal(t){var i=this;return(0,m.A)(function*(){let n={};("Add"===t.new||"PicTicket"===t.new)&&(n=yield i.modalCtrl.create({component:A.c,componentProps:t})),yield n.present();const{data:a,role:r}=yield n.onWillDismiss();"confirm"===r&&Array.isArray(a)&&a.length>0&&(i.itemsRecibos.push(...a),i.itemsRecibos=[...i.itemsRecibos],i.recibosService.recibosDetalle$.next(i.itemsRecibos))})()}}(E=L).\u0275fac=function(t){return new(t||E)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L),e.rXU(Z.l))},E.\u0275cmp=e.VBU({type:E,selectors:[["app-recibos"]],standalone:!1,decls:22,vars:7,consts:[["color","primary"],[3,"ngModelChange","ngModel"],["value","Mes"],["value","Meses"],["value","Casa"],["value","Folio"],["slot","end"],["id","user-avatar","size","medium"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refrescando..."],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","fixed","vertical","bottom","horizontal","end"],["id","add-recibo-fab-button",3,"click"],["name","add"]],template:function(t,i){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-segment",1),e.mxI("ngModelChange",function(a){return e.DH7(i.option,a)||(i.option=a),a}),e.j41(3,"ion-segment-button",2),e.EFF(4," Mes "),e.k0s(),e.j41(5,"ion-segment-button",3),e.EFF(6," Meses "),e.k0s(),e.j41(7,"ion-segment-button",4),e.EFF(8," Casa "),e.k0s(),e.j41(9,"ion-segment-button",5),e.EFF(10," Folio "),e.k0s()(),e.j41(11,"ion-buttons",6),e.nrm(12,"app-user-avatar",7),e.k0s()()(),e.j41(13,"ion-content"),e.DNE(14,fe,3,0,"ion-fab",8),e.j41(15,"ion-refresher",9),e.bIt("ionRefresh",function(a){return i.doRefresh(a)}),e.nrm(16,"ion-refresher-content",10),e.k0s(),e.qex(17,11),e.DNE(18,ge,2,0,"div",12)(19,_e,2,0,"div",12)(20,Me,2,0,"div",12)(21,Ce,2,0,"div",12),e.bVm(),e.k0s()),2&t&&(e.R7$(2),e.R50("ngModel",i.option),e.R7$(12),e.Y8G("ngIf","reader"!=i.role),e.R7$(3),e.Y8G("ngSwitch",i.option),e.R7$(),e.Y8G("ngSwitchCase","Mes"),e.R7$(),e.Y8G("ngSwitchCase","Meses"),e.R7$(),e.Y8G("ngSwitchCase","Casa"),e.R7$(),e.Y8G("ngSwitchCase","Folio"))},dependencies:[o.QW,o.W9,o.Q8,o.YW,o.eU,o.iq,o.To,o.Ki,o.Gp,o.eP,o.ai,o.Je,l.bT,l.ux,l.e1,p.BC,p.vS,T,G,w,X,P.a],encapsulation:2});const be=[{path:"",component:L}];class x{}var g,_,M,C,b;(f=x).\u0275fac=function(t){return new(t||f)},f.\u0275mod=e.$C({type:f}),f.\u0275inj=e.G2t({imports:[j.iI.forChild(be),j.iI]});class Y{}(g=Y).\u0275fac=function(t){return new(t||g)},g.\u0275mod=e.$C({type:g}),g.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class V{}(_=V).\u0275fac=function(t){return new(t||_)},_.\u0275mod=e.$C({type:_}),_.\u0275inj=e.G2t({imports:[o.bv,l.MD,p.YN,p.X1]});class J{}(M=J).\u0275fac=function(t){return new(t||M)},M.\u0275mod=e.$C({type:M}),M.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class z{}(C=z).\u0275fac=function(t){return new(t||C)},C.\u0275mod=e.$C({type:C}),C.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class W{}(b=W).\u0275fac=function(t){return new(t||b)},b.\u0275mod=e.$C({type:b}),b.\u0275inj=e.G2t({imports:[o.bv,l.MD,p.YN,x,Y,V,J,z,P.a]})}}]);
//# sourceMappingURL=767.6727823c6c96671a.js.map