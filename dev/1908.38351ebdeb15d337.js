"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1908],{1908:(Me,$,c)=>{c.r($),c.d($,{RecibosPageModule:()=>z});var o=c(9618),l=c(316),p=c(496),j=c(5375),m=c(9204),A=c(4885),W=c(9475),e=c(7404),u=c(9167),d=c(7568),Q=c(7578);class E{lastSumMonto(i,t){return i.filter(a=>a.CASA==t).reduce((a,r)=>a+r.MONTO,0)}sumMonto(i,t){var n=i.filter(r=>r.CASA==t);let a=(new Date).getMonth();return(n=n.filter(r=>new Date(r.MES).getMonth()===a)).reduce((r,O)=>r+O.MONTO,0)}sizeMonto(i,t){var n=i.filter(r=>r.CASA==t);let a=(new Date).getMonth();return(n=n.filter(r=>new Date(r.MES).getMonth()===a)).length}}var v,b,R,I,h=c(4435);function H(s,i){if(1&s&&(e.j41(0,"ion-badge",6),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(t.details,t.header)," pago")}}function K(s,i){if(1&s&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(t.details,t.header)," pago")}}function Z(s,i){if(1&s&&(e.j41(0,"ion-badge",7),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit,n=e.XpG();e.R7$(),e.SpI("",n.sizeMonto(t.details,t.header)," pagos")}}function q(s,i){if(1&s){const t=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const a=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openModal({detail:a.details}))}),e.j41(1,"ion-label")(2,"ion-badge",3),e.EFF(3),e.k0s(),e.EFF(4),e.nI1(5,"currency"),e.DNE(6,H,2,1,"ion-badge",4)(7,K,2,1,"ion-badge",5)(8,Z,2,1,"ion-badge",5),e.k0s()()}if(2&s){const t=i.$implicit,n=e.XpG();e.R7$(3),e.JRh(n.lastSumMonto(n.itemsLastMonth,t.header)),e.R7$(),e.E5c(" ",t.header," - ",t.details[0].NOMBRE.substr(0,15)," : ",e.bMT(5,7,n.sumMonto(t.details,t.header))," "),e.R7$(2),e.Y8G("ngIf",0==n.sizeMonto(t.details,t.header)),e.R7$(),e.Y8G("ngIf",1==n.sizeMonto(t.details,t.header)),e.R7$(),e.Y8G("ngIf",n.sizeMonto(t.details,t.header)>1)}}function ee(s,i){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s(),e.j41(6,"ion-note"),e.EFF(7),e.nI1(8,"date"),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.k0s()(),e.j41(12,"ion-col")(13,"ion-note",6),e.EFF(14),e.nI1(15,"currency"),e.k0s()()()()()),2&s){const t=i.$implicit;e.R7$(5),e.SpI("",t.FOLIO," -"),e.R7$(2),e.JRh(e.i5U(8,4,t.MES,"MMM")),e.R7$(4),e.JRh(t.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(15,7,t.MONTO))}}function te(s,i){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,ee,16,9,"ion-item",4),e.k0s()),2&s){const t=i.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",t.header," : ",e.bMT(3,3,n.sumMonto(t.details,t.header))," "),e.R7$(2),e.Y8G("ngForOf",t.details)}}class T extends E{constructor(i,t,n){super(),this.modalCtrl=i,this.service=t,this.loadingUtil=n,this.items=[]}ngOnInit(){var i=this;return(0,m.A)(function*(){yield i.service.getSpreadSheetId().then(()=>i.getdata())})()}doRefresh(i){this.service.getFullDataDetail().subscribe(t=>{this.items=t.find(n=>new Date(n.header).getMonth()==(new Date).getMonth()),i.target.complete()})}getdata(){this.service.getFullDataDetail().subscribe(i=>{this.items=i,this.items.sort((n,a)=>n.CASA&&a.CASA&&n.CASA>a.CASA?1:-1),this.itemsBackup=this.items?this.items.slice():[],this.title=(new Date).toDateString();let t=(new Date).getMonth()-1;this.itemsLastMonth=i.filter(n=>n.MES&&new Date(n.MES).getMonth()===t),this.itemsLastMonth.sort((n,a)=>n.CASA&&a.CASA&&n.CASA>a.CASA?1:-1)})}getItems(i){this.items=this.itemsBackup.slice();const t=i.target.value;t&&""!=t.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(t.toLowerCase())>-1))}openModal(i){var t=this;return(0,m.A)(function*(){yield(yield t.modalCtrl.create({component:U,componentProps:{detail:i.detail}})).present()})()}}(v=T).\u0275fac=function(i){return new(i||v)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},v.\u0275cmp=e.VBU({type:v,selectors:[["app-mes"]],standalone:!1,features:[e.Vt3],decls:6,vars:9,consts:[[3,"ionInput","placeholder"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["color","light","slot","start"],["color","danger",4,"ngIf"],["color","secondary",4,"ngIf"],["color","danger"],["color","secondary"]],template:function(i,t){1&i&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.nI1(2,"date"),e.bIt("ionInput",function(a){return t.getItems(a)}),e.k0s()(),e.j41(3,"ion-list"),e.DNE(4,q,9,9,"ion-item",1),e.nI1(5,"groupBy"),e.k0s()),2&i&&(e.R7$(),e.Mz_("placeholder","Pagos del mes de ",e.i5U(2,3,t.title,"MMM.yy"),""),e.R7$(3),e.Y8G("ngForOf",e.i5U(5,6,t.items,"CASA")))},dependencies:[l.Sq,l.bT,o.In,o.uz,o.he,o.nf,o.AF,o.S1,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class U extends E{constructor(i){super(),this.modalCtrl=i,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(i){this.items=this.itemsBackup?this.itemsBackup.slice():[];const t=i.target.value;t&&""!=t.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(t.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}function ie(s,i){if(1&s){const t=e.RV6();e.j41(0,"ion-item",2),e.bIt("click",function(){const a=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openModal({detail:a.details}))}),e.EFF(1),e.nI1(2,"date"),e.k0s()}if(2&s){const t=i.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,t.header,"MMM.yy")," ")}}function ne(s,i){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",6),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",6),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&s){const t=i.$implicit;e.R7$(5),e.JRh(t.FOLIO),e.R7$(3),e.JRh(t.CONCEPTO.substr(0,15)),e.R7$(3),e.JRh(e.bMT(12,3,t.MONTO))}}function oe(s,i){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",5),e.EFF(2),e.nI1(3,"currency"),e.k0s(),e.DNE(4,ne,13,5,"ion-item",4),e.k0s()),2&s){const t=i.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",t.header," : ",e.bMT(3,3,n.sumMonto(t.details,t.header))," "),e.R7$(2),e.Y8G("ngForOf",t.details)}}(b=U).\u0275fac=function(i){return new(i||b)(e.rXU(o.W3))},b.\u0275cmp=e.VBU({type:b,selectors:[["app-mes-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["slot","start"],[3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"ion-button",1),e.bIt("click",function(){return t.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(a){return t.getItems(a)}),e.k0s()(),e.DNE(11,te,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&i&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,t.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,t.items,"CASA")))},dependencies:[l.Sq,o.Jm,o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.AF,o.JI,o.ln,o.S1,o.BC,o.ai,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class G extends E{constructor(i,t,n){super(),this.modalCtrl=i,this.service=t,this.loadingUtil=n,this.items=[]}ngOnInit(){var i=this;return(0,m.A)(function*(){yield i.service.getSpreadSheetId().then(()=>i.getdata())})()}doRefresh(i){this.service.getFullDataDetail().subscribe(t=>{this.items=[...t],i.complete(),this.items.sort((n,a)=>n.MES&&a.MES&&n.MES>a.MES?-1:1)})}getdata(){var i=this;this.service.recibosDetalle$.subscribe(function(){var t=(0,m.A)(function*(n){i.items=[...n],i.items.sort((a,r)=>a.MES&&r.MES&&a.MES>r.MES?-1:1)});return function(n){return t.apply(this,arguments)}}())}openModal(i){var t=this;return(0,m.A)(function*(){yield(yield t.modalCtrl.create({component:w,componentProps:{detail:i.detail}})).present()})()}}(R=G).\u0275fac=function(i){return new(i||R)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},R.\u0275cmp=e.VBU({type:R,selectors:[["app-meses"]],standalone:!1,features:[e.Vt3],decls:3,vars:5,consts:[["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-list",0),e.DNE(1,ie,3,4,"ion-item",1),e.nI1(2,"groupBy"),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngForOf",e.brH(2,1,t.items,"MES","reverse")))},dependencies:[o.uz,o.nf,l.Sq,l.vh,h.l],encapsulation:2});class w extends E{constructor(i){super(),this.modalCtrl=i,this.detail=[],this.items=[],this.itemsBackup=[]}ngOnInit(){this.items=this.detail,this.itemsBackup=this.items?this.items.slice():[],this.title=this.items?this.items[0].MES:""}getItems(i){this.items=this.itemsBackup.slice(),console.log("this.items",this.items);const t=i.target.value;t&&""!=t.trim()&&(this.items=this.items.filter(n=>n.CASA&&n.CASA.toLowerCase().indexOf(t.toLowerCase())>-1))}dismiss(){this.modalCtrl.dismiss()}}(I=w).\u0275fac=function(i){return new(i||I)(e.rXU(o.W3))},I.\u0275cmp=e.VBU({type:I,selectors:[["app-meses-detail"]],inputs:{detail:"detail"},standalone:!1,features:[e.Vt3],decls:13,vars:8,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"ion-buttons",0)(6,"button",1),e.bIt("click",function(){return t.dismiss()}),e.nrm(7,"ion-icon",2),e.k0s()()()(),e.j41(8,"ion-content")(9,"ion-list-header")(10,"ion-searchbar",3),e.bIt("ionInput",function(a){return t.getItems(a)}),e.k0s()(),e.DNE(11,oe,5,5,"ion-item-group",4),e.nI1(12,"groupBy"),e.k0s()),2&i&&(e.R7$(3),e.SpI("Detalle de ",e.i5U(4,2,t.title,"MMM.yy"),""),e.R7$(8),e.Y8G("ngForOf",e.i5U(12,5,t.items,"CASA")))},dependencies:[o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.AF,o.JI,o.ln,o.S1,o.BC,o.ai,o.Gw,l.Sq,l.oe,l.vh,h.l],encapsulation:2});var S,k,y,D,f,se=c(6482);function ae(s,i){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note",3),e.EFF(5),e.nI1(6,"date"),e.k0s()(),e.j41(7,"ion-col")(8,"ion-note",3),e.EFF(9),e.k0s()(),e.j41(10,"ion-col")(11,"ion-note",3),e.EFF(12),e.nI1(13,"currency"),e.k0s()()()()()),2&s){const t=i.$implicit;e.R7$(5),e.JRh(e.i5U(6,3,t.MES,"MMM.yy")),e.R7$(4),e.JRh(t.CONCEPTO),e.R7$(3),e.JRh(e.bMT(13,6,t.MONTO))}}function re(s,i){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",2),e.EFF(2),e.k0s(),e.DNE(3,ae,14,8,"ion-item",1),e.k0s()),2&s){const t=i.$implicit;e.R7$(2),e.SpI(" ",t.header," "),e.R7$(),e.Y8G("ngForOf",t.details)}}class B extends d.L{constructor(i,t,n){super(n),this.navCtrl=i,this.service=t,this.items=[],this.itemsBackup=[]}ngOnInit(){var i=this;return(0,m.A)(function*(){yield i.service.getSpreadSheetId().then(()=>i.getdata())})()}doRefresh(i){this.service.getFullDataDetail().subscribe(t=>{this.items=t,this.itemsBackup=this.items.slice(),i.complete()})}getdata(){var i=this;this.service.getFullDataDetail().subscribe(function(){var t=(0,m.A)(function*(n){i.items=n,i.itemsBackup=i.items.slice()});return function(n){return t.apply(this,arguments)}}())}getItems(i){this.items=this.itemsBackup.slice();const t=i.target.value;t&&""!=t.trim()&&(this.items=this.items.filter(n=>n.FOLIO==t))}}function le(s,i){if(1&s){const t=e.RV6();e.j41(0,"ion-item",3),e.bIt("click",function(){const a=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openModal({casa:a.ID}))}),e.EFF(1),e.k0s()}if(2&s){const t=i.$implicit;e.R7$(),e.Lme(" ",t.ID," - ",t.NOMBRE," ")}}function ce(s,i){if(1&s&&(e.j41(0,"ion-item")(1,"ion-grid")(2,"ion-row")(3,"ion-col")(4,"ion-note"),e.EFF(5),e.k0s()(),e.j41(6,"ion-col")(7,"ion-note",5),e.EFF(8),e.k0s()(),e.j41(9,"ion-col")(10,"ion-note",5),e.EFF(11),e.nI1(12,"currency"),e.k0s()()()()()),2&s){const t=i.$implicit;e.R7$(5),e.JRh(t.FOLIO),e.R7$(3),e.JRh(t.CONCEPTO.substr(0,16)),e.R7$(3),e.JRh(e.bMT(12,3,t.MONTO))}}function me(s,i){if(1&s&&(e.j41(0,"ion-item-group")(1,"ion-item-divider",4),e.EFF(2),e.nI1(3,"date"),e.nI1(4,"currency"),e.k0s(),e.DNE(5,ce,13,5,"ion-item",3),e.k0s()),2&s){const t=i.$implicit,n=e.XpG();e.R7$(2),e.Lme(" ",e.i5U(3,3,t.header,"MMM.yy")," : ",e.bMT(4,6,n.sumMonto(t.details,t.header))," "),e.R7$(3),e.Y8G("ngForOf",t.details)}}(S=B).\u0275fac=function(i){return new(i||S)(e.rXU(se.q9),e.rXU(u.f),e.rXU(o.Xi))},S.\u0275cmp=e.VBU({type:S,selectors:[["app-folio"]],standalone:!1,features:[e.Vt3],decls:3,vars:4,consts:[[3,"ionInput"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(i,t){1&i&&(e.j41(0,"ion-searchbar",0),e.bIt("ionInput",function(a){return t.getItems(a)}),e.k0s(),e.DNE(1,re,4,2,"ion-item-group",1),e.nI1(2,"groupBy")),2&i&&(e.R7$(),e.Y8G("ngForOf",e.i5U(2,1,t.items,"FOLIO")))},dependencies:[l.Sq,o.hU,o.lO,o.uz,o.Dg,o.jh,o.JI,o.ln,o.S1,o.Gw,l.oe,l.vh,h.l],encapsulation:2});class X{constructor(i,t,n){this.modalCtrl=i,this.service=t,this.loadingUtil=n,this.items=[],this.itemsBackup=[]}ngOnInit(){var i=this;return(0,m.A)(function*(){yield i.service.getSpreadSheetId().then(()=>i.getdata())})()}getdata(){var i=this;this.service.getFullData().subscribe(function(){var t=(0,m.A)(function*(n){i.items=n.filter((a,r,O)=>r===O.findIndex(ge=>ge.ID===a.ID)),i.itemsBackup=i.items.slice()});return function(n){return t.apply(this,arguments)}}())}openModal(i){var t=this;return(0,m.A)(function*(){yield(yield t.modalCtrl.create({component:N,componentProps:{casa:i.casa}})).present()})()}getItems(i){this.items=this.itemsBackup&&this.itemsBackup.slice();const t=i.target.value;t&&""!=t.trim()&&(this.items=this.items&&this.items.filter(n=>n.ID&&n.ID.toLowerCase().indexOf(t.toLowerCase())>-1||n.NOMBRE&&n.NOMBRE.toLowerCase().indexOf(t.toLowerCase())>-1))}}(k=X).\u0275fac=function(i){return new(i||k)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},k.\u0275cmp=e.VBU({type:k,selectors:[["app-casas"]],standalone:!1,decls:4,vars:1,consts:[[3,"ionInput"],["inset",""],["ion-item","",3,"click",4,"ngFor","ngForOf"],["ion-item","",3,"click"]],template:function(i,t){1&i&&(e.j41(0,"ion-list-header")(1,"ion-searchbar",0),e.bIt("ionInput",function(a){return t.getItems(a)}),e.k0s()(),e.j41(2,"ion-list",1),e.DNE(3,le,2,2,"ion-item",2),e.k0s()),2&i&&(e.R7$(3),e.Y8G("ngForOf",t.items))},dependencies:[l.Sq,o.uz,o.nf,o.AF,o.S1,o.Gw],encapsulation:2});class N{constructor(i,t,n){this.modalCtrl=i,this.service=t,this.loadingUtil=n,this.casa="",this.items=[],this.name=""}ngOnInit(){var i=this;return(0,m.A)(function*(){i.name=i.casa,yield i.service.getSpreadSheetId().then(()=>i.getdata())})()}doRefresh(i){this.service.getFullDataDetail().subscribe(t=>{this.items=[...t.filter(n=>n.CASA==this.name)],this.items.sort((n,a)=>n.MES&&a.MES&&n.MES>a.MES?-1:1),i.complete()})}getdata(){var i=this;console.log(this.casa),this.service.recibosDetalle$.subscribe(function(){var t=(0,m.A)(function*(n){i.items=[...n.filter(a=>a.CASA==i.name)],i.items.sort((a,r)=>a.MES&&r.MES&&a.MES>r.MES?-1:1)});return function(n){return t.apply(this,arguments)}}())}sumMonto(i,t){return i.filter(a=>a.MES==t).reduce((a,r)=>a+r.MONTO,0)}dismiss(){this.modalCtrl.dismiss()}}function pe(s,i){if(1&s){const t=e.RV6();e.j41(0,"ion-fab",11)(1,"ion-fab-button",12),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.openModal({new:"Add"}))}),e.nrm(2,"ion-icon",13),e.k0s()()}}function ue(s,i){1&s&&(e.j41(0,"div"),e.nrm(1,"app-mes"),e.k0s())}function de(s,i){1&s&&(e.j41(0,"div"),e.nrm(1,"app-meses"),e.k0s())}function he(s,i){1&s&&(e.j41(0,"div"),e.nrm(1,"app-casas"),e.k0s())}function fe(s,i){1&s&&(e.j41(0,"div"),e.nrm(1,"app-folio"),e.k0s())}(y=N).\u0275fac=function(i){return new(i||y)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L))},y.\u0275cmp=e.VBU({type:y,selectors:[["app-casas-detail"]],inputs:{casa:"casa"},standalone:!1,decls:10,vars:6,consts:[["start",""],["ion-button","",3,"click"],["name","close"],[4,"ngFor","ngForOf"],["color","light"],["color","primary"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",0)(5,"button",1),e.bIt("click",function(){return t.dismiss()}),e.nrm(6,"ion-icon",2),e.k0s()()()(),e.j41(7,"ion-content"),e.DNE(8,me,6,8,"ion-item-group",3),e.nI1(9,"groupBy"),e.k0s()),2&i&&(e.R7$(3),e.SpI("Detalle de ",t.name,""),e.R7$(5),e.Y8G("ngForOf",e.brH(9,2,t.items,"MES","desc")))},dependencies:[l.Sq,o.QW,o.hU,o.W9,o.lO,o.eU,o.iq,o.uz,o.Dg,o.jh,o.JI,o.ln,o.BC,o.ai,l.oe,l.vh,h.l],encapsulation:2});class P{constructor(i,t,n,a){this.modalCtrl=i,this.recibosService=t,this.loadingUtil=n,this.alertUtil=a,this.option="Mes",this.isAndroid=!1,this.role="",this.itemsRecibos=[]}ngOnInit(){var i=this;return(0,m.A)(function*(){yield i.recibosService.getSpreadSheetId().then(()=>i.getdata());const t=localStorage.getItem("user");i.role=t?JSON.parse(t).ROLE:""})()}doRefresh(i){i.target.complete()}getdata(){var i=this;this.loadingUtil.showing(),this.recibosService.getFullDataDetail().pipe((0,W.j)(()=>this.loadingUtil.dismiss())).subscribe(function(){var t=(0,m.A)(function*(n){i.itemsRecibos=[...n],i.itemsRecibos=[...i.itemsRecibos]});return function(n){return t.apply(this,arguments)}}(),t=>{this.alertUtil.showError("Error al cargar recibos: "+t)})}openModal(i){var t=this;return(0,m.A)(function*(){let n={};("Add"===i.new||"PicTicket"===i.new)&&(n=yield t.modalCtrl.create({component:A.c,componentProps:i})),yield n.present();const{data:a,role:r}=yield n.onWillDismiss();"confirm"===r&&Array.isArray(a)&&a.length>0&&(t.itemsRecibos.push(...a),t.itemsRecibos=[...t.itemsRecibos],t.recibosService.recibosDetalle$.next(t.itemsRecibos))})()}}(D=P).\u0275fac=function(i){return new(i||D)(e.rXU(o.W3),e.rXU(u.f),e.rXU(d.L),e.rXU(Q.l))},D.\u0275cmp=e.VBU({type:D,selectors:[["app-recibos"]],standalone:!1,decls:20,vars:7,consts:[["color","primary"],[3,"ngModelChange","ngModel"],["value","Mes"],["value","Meses"],["value","Casa"],["value","Folio"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Pull to refresh","refreshingSpinner","circles","refreshingText","Refrescando..."],[3,"ngSwitch"],[4,"ngSwitchCase"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"]],template:function(i,t){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-segment",1),e.mxI("ngModelChange",function(a){return e.DH7(t.option,a)||(t.option=a),a}),e.j41(3,"ion-segment-button",2),e.EFF(4," Mes "),e.k0s(),e.j41(5,"ion-segment-button",3),e.EFF(6," Meses "),e.k0s(),e.j41(7,"ion-segment-button",4),e.EFF(8," Casa "),e.k0s(),e.j41(9,"ion-segment-button",5),e.EFF(10," Folio "),e.k0s()()()(),e.j41(11,"ion-content"),e.DNE(12,pe,3,0,"ion-fab",6),e.j41(13,"ion-refresher",7),e.bIt("ionRefresh",function(a){return t.doRefresh(a)}),e.nrm(14,"ion-refresher-content",8),e.k0s(),e.qex(15,9),e.DNE(16,ue,2,0,"div",10)(17,de,2,0,"div",10)(18,he,2,0,"div",10)(19,fe,2,0,"div",10),e.bVm(),e.k0s()),2&i&&(e.R7$(2),e.R50("ngModel",t.option),e.R7$(10),e.Y8G("ngIf","reader"!=t.role),e.R7$(3),e.Y8G("ngSwitch",t.option),e.R7$(),e.Y8G("ngSwitchCase","Mes"),e.R7$(),e.Y8G("ngSwitchCase","Meses"),e.R7$(),e.Y8G("ngSwitchCase","Casa"),e.R7$(),e.Y8G("ngSwitchCase","Folio"))},dependencies:[o.W9,o.Q8,o.YW,o.eU,o.iq,o.To,o.Ki,o.Gp,o.eP,o.ai,o.Je,l.bT,l.ux,l.e1,p.BC,p.vS,T,G,B,X],encapsulation:2});const _e=[{path:"",component:P}];class L{}var _,g,M,C,F;(f=L).\u0275fac=function(i){return new(i||f)},f.\u0275mod=e.$C({type:f}),f.\u0275inj=e.G2t({imports:[j.iI.forChild(_e),j.iI]});class x{}(_=x).\u0275fac=function(i){return new(i||_)},_.\u0275mod=e.$C({type:_}),_.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class Y{}(g=Y).\u0275fac=function(i){return new(i||g)},g.\u0275mod=e.$C({type:g}),g.\u0275inj=e.G2t({imports:[o.bv,l.MD,p.YN,p.X1]});class V{}(M=V).\u0275fac=function(i){return new(i||M)},M.\u0275mod=e.$C({type:M}),M.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class J{}(C=J).\u0275fac=function(i){return new(i||C)},C.\u0275mod=e.$C({type:C}),C.\u0275inj=e.G2t({imports:[l.MD,p.YN,o.bv,p.X1]});class z{}(F=z).\u0275fac=function(i){return new(i||F)},F.\u0275mod=e.$C({type:F}),F.\u0275inj=e.G2t({imports:[o.bv,l.MD,p.YN,L,x,Y,V,J]})}}]);
//# sourceMappingURL=1908.38351ebdeb15d337.js.map