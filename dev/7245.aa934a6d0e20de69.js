"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7245],{7245:(N,v,s)=>{s.r(v),s.d(v,{HomePageModule:()=>S});var l,o=s(9618),b=s(316),i=s(496),e=s(7404);class C{}(l=C).\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.$C({type:l}),l.\u0275inj=e.G2t({imports:[b.MD,i.YN,o.bv,i.X1]});var p,h=s(5375),g=s(9204),j=s(4885),R=s(9167),k=s(9949);class I{constructor(t,n,r,c){this.fb=t,this.modalCtrl=n,this.recibosService=r,this.gastosservice=c,this.parameters=this.fb.group({sheetIdRecibos:[""],sheetIdGastos:[""]})}ngOnInit(){this.recibosService.getSpreadSheetId().then(t=>this.parameters.patchValue({sheetIdRecibos:t})),this.gastosservice.getSpreadSheetId().then(t=>this.parameters.patchValue({sheetIdGastos:t}))}onSave(t){console.log(this.parameters.value),this.recibosService.setSpreadSheetId(t.sheetIdRecibos).then(()=>this.modalCtrl.dismiss(this.parameters.value))}dismiss(){this.modalCtrl.dismiss()}}(p=I).\u0275fac=function(t){return new(t||p)(e.rXU(i.ok),e.rXU(o.W3),e.rXU(R.f),e.rXU(k.j))},p.\u0275cmp=e.VBU({type:p,selectors:[["app-parameters"]],standalone:!1,decls:15,vars:2,consts:[[3,"translucent"],["slot","start"],[3,"click"],["name","close"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["type","text","label","SheetId Recibos","formControlName","sheetIdRecibos"],["type","text","label","SheetId Gastos","formControlName","sheetIdGastos"],["type","submit","expand","block"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Parameters"),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.bIt("click",function(){return n.dismiss()}),e.nrm(6,"ion-icon",3),e.k0s()()()(),e.j41(7,"ion-content",4)(8,"form",5),e.bIt("ngSubmit",function(){return n.onSave(n.parameters.value)}),e.j41(9,"ion-item"),e.nrm(10,"ion-input",6),e.k0s(),e.j41(11,"ion-item"),e.nrm(12,"ion-input",7),e.k0s(),e.j41(13,"ion-button",8),e.EFF(14,"Save"),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(8),e.Y8G("formGroup",n.parameters))},dependencies:[o.Jm,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.BC,o.ai,o.Gw,i.qT,i.BC,i.cb,i.j4,i.JD],encapsulation:2});var f,m,M=s(5312);function _(a,t){if(1&a){const n=e.RV6();e.j41(0,"ion-fab-button",7),e.bIt("click",function(){e.eBV(n);const c=e.XpG();return e.Njj(c.openParameter())}),e.nrm(1,"ion-icon",10),e.k0s()}}function F(a,t){if(1&a){const n=e.RV6();e.j41(0,"ion-fab",11)(1,"ion-fab-button",12),e.bIt("click",function(){e.eBV(n);const c=e.XpG();return e.Njj(c.openModal())}),e.nrm(2,"ion-icon",13),e.k0s()()}}class P{constructor(t,n,r){this.router=t,this.modalCtrl=n,this.actionSheet=r,this.role=""}ngOnInit(){const t=localStorage.getItem("user");this.role=t?JSON.parse(t).ROLE:"",console.log("ENVIRONMENT:",M.c)}openModal(){var t=this;return(0,g.A)(function*(){const n=yield t.modalCtrl.create({component:j.c});n.present();const{data:r,role:c}=yield n.onWillDismiss();"confirm"===c&&t.router.navigate(["/tabs/recibos"])})()}openParameter(){var t=this;return(0,g.A)(function*(){const n=yield t.modalCtrl.create({component:I});n.present();const{data:r,role:c}=yield n.onWillDismiss()})()}presentActionSheet(){var t=this;return(0,g.A)(function*(){yield(yield t.actionSheet.create({header:"Opciones",cssClass:"my-custom-class",buttons:[{text:"Cerrar sesi\xf3n",role:"destructive",icon:"log-out",handler:()=>{localStorage.removeItem("user"),t.router.navigate(["/login"])}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}}(f=P).\u0275fac=function(t){return new(t||f)(e.rXU(h.Ix),e.rXU(o.W3),e.rXU(o.GD))},f.\u0275cmp=e.VBU({type:f,selectors:[["app-home"]],standalone:!1,decls:17,vars:4,consts:[[3,"translucent"],["color","primary"],[1,"ion-padding"],["slot","fixed","vertical","top","horizontal","end",3,"edge"],["name","chevron-down-circle"],["side","bottom"],[3,"click",4,"ngIf"],[3,"click"],["name","log-out"],["slot","fixed","horizontal","end","vertical","bottom",4,"ngIf"],["name","cog"],["slot","fixed","horizontal","end","vertical","bottom"],["ion-fab","",3,"click"],["name","add"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),e.EFF(3," Recibos "),e.k0s()()(),e.j41(4,"ion-content",2)(5,"ion-fab",3)(6,"ion-fab-button"),e.nrm(7,"ion-icon",4),e.k0s(),e.j41(8,"ion-fab-list",5),e.DNE(9,_,2,0,"ion-fab-button",6),e.j41(10,"ion-fab-button",7),e.bIt("click",function(){return n.presentActionSheet()}),e.nrm(11,"ion-icon",8),e.k0s()()(),e.DNE(12,F,3,0,"ion-fab",9),e.j41(13,"h2"),e.EFF(14,"Recibos de Pagos y Gastos Garita 14a"),e.k0s(),e.j41(15,"p"),e.EFF(16," Manejo de recibos de pagos y gastos generales "),e.k0s()()),2&t&&(e.Y8G("translucent",!0),e.R7$(5),e.Y8G("edge",!0),e.R7$(4),e.Y8G("ngIf","admin"===n.role),e.R7$(3),e.Y8G("ngIf","reader"!=n.role))},dependencies:[o.W9,o.Q8,o.YW,o.OL,o.eU,o.iq,o.BC,o.ai,b.bT],encapsulation:2});const H=[{path:"",component:P}];class y{}var d,u;(m=y).\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.$C({type:m}),m.\u0275inj=e.G2t({imports:[h.iI.forChild(H),h.iI]});class G{}(d=G).\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[b.MD,i.YN,o.bv,i.X1]});class S{}(u=S).\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.$C({type:u}),u.\u0275inj=e.G2t({imports:[o.bv,b.MD,i.YN,i.X1,C,G,y]})}}]);
//# sourceMappingURL=7245.aa934a6d0e20de69.js.map