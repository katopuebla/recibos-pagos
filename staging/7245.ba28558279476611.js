"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7245],{7245:(H,v,s)=>{s.r(v),s.d(v,{HomePageModule:()=>G});var l,o=s(9618),f=s(316),i=s(496),t=s(7404);class C{}(l=C).\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.$C({type:l}),l.\u0275inj=t.G2t({imports:[f.MD,i.YN,o.bv,i.X1]});var p,g=s(4908),h=s(9204),S=s(4885),j=s(4735),x=s(9949);class P{constructor(e,n,r,c){this.fb=e,this.modalCtrl=n,this.recibosService=r,this.gastosservice=c,this.parameters=this.fb.group({sheetIdRecibos:[""],sheetIdGastos:[""]})}ngOnInit(){this.recibosService.getSpreadSheetId().then(e=>this.parameters.patchValue({sheetIdRecibos:e})),this.gastosservice.getSpreadSheetId().then(e=>this.parameters.patchValue({sheetIdGastos:e}))}onSave(e){console.log(this.parameters.value),this.recibosService.setSpreadSheetId(e.sheetIdRecibos).then(()=>this.modalCtrl.dismiss(this.parameters.value))}dismiss(){this.modalCtrl.dismiss()}}(p=P).\u0275fac=function(e){return new(e||p)(t.rXU(i.ok),t.rXU(o.W3),t.rXU(j.f),t.rXU(x.j))},p.\u0275cmp=t.VBU({type:p,selectors:[["app-parameters"]],standalone:!1,decls:15,vars:2,consts:[[3,"translucent"],["slot","start"],[3,"click"],["name","close"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["type","text","label","SheetId Recibos","formControlName","sheetIdRecibos"],["type","text","label","SheetId Gastos","formControlName","sheetIdGastos"],["type","submit","expand","block"]],template:function(e,n){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Parameters"),t.k0s(),t.j41(4,"ion-buttons",1)(5,"ion-button",2),t.bIt("click",function(){return n.dismiss()}),t.nrm(6,"ion-icon",3),t.k0s()()()(),t.j41(7,"ion-content",4)(8,"form",5),t.bIt("ngSubmit",function(){return n.onSave(n.parameters.value)}),t.j41(9,"ion-item"),t.nrm(10,"ion-input",6),t.k0s(),t.j41(11,"ion-item"),t.nrm(12,"ion-input",7),t.k0s(),t.j41(13,"ion-button",8),t.EFF(14,"Save"),t.k0s()()()),2&e&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("formGroup",n.parameters))},dependencies:[o.Jm,o.QW,o.W9,o.eU,o.iq,o.$w,o.uz,o.BC,o.ai,o.Gw,i.qT,i.BC,i.cb,i.j4,i.JD],encapsulation:2});var b,m,O=s(5312),M=s(5441);function k(a,e){if(1&a){const n=t.RV6();t.j41(0,"ion-fab-button",11),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.openParameter())}),t.nrm(1,"ion-icon",12),t.k0s()}}function R(a,e){if(1&a){const n=t.RV6();t.j41(0,"ion-fab",13)(1,"ion-fab-button",14),t.bIt("click",function(){t.eBV(n);const c=t.XpG();return t.Njj(c.openModal())}),t.nrm(2,"ion-icon",15),t.k0s()()}}class _{constructor(e,n,r){this.router=e,this.modalCtrl=n,this.actionSheet=r,this.role=""}ngOnInit(){const e=localStorage.getItem("user");this.role=e?JSON.parse(e).ROLE:"",console.log("ENVIRONMENT:",O.c)}openModal(){var e=this;return(0,h.A)(function*(){const n=yield e.modalCtrl.create({component:S.c});n.present();const{data:r,role:c}=yield n.onWillDismiss();"confirm"===c&&e.router.navigate(["/tabs/recibos"])})()}openParameter(){var e=this;return(0,h.A)(function*(){const n=yield e.modalCtrl.create({component:P});n.present();const{data:r,role:c}=yield n.onWillDismiss()})()}presentActionSheet(){var e=this;return(0,h.A)(function*(){yield(yield e.actionSheet.create({header:"Opciones",cssClass:"my-custom-class",buttons:[{text:"Cerrar sesi\xf3n",role:"destructive",icon:"log-out",handler:()=>{localStorage.removeItem("user"),e.router.navigate(["/login"])}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]})).present()})()}}(b=_).\u0275fac=function(e){return new(e||b)(t.rXU(g.Ix),t.rXU(o.W3),t.rXU(o.GD))},b.\u0275cmp=t.VBU({type:b,selectors:[["app-home"]],standalone:!1,decls:17,vars:4,consts:[[3,"translucent"],["color","primary"],[1,"ion-padding"],["slot","fixed","horizontal","end","vertical","top",3,"edge"],["id","user-menu-fab-button"],["size","small"],["side","bottom"],["id","config-fab-button",3,"click",4,"ngIf"],["id","logout-fab-button",3,"click"],["name","log-out"],["slot","fixed","horizontal","end","vertical","bottom",4,"ngIf"],["id","config-fab-button",3,"click"],["name","cog"],["slot","fixed","horizontal","end","vertical","bottom"],["id","add-recibo-fab-button","ion-fab","",3,"click"],["name","add"]],template:function(e,n){1&e&&(t.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.EFF(3," Recibos "),t.k0s()()(),t.j41(4,"ion-content",2)(5,"ion-fab",3)(6,"ion-fab-button",4),t.nrm(7,"app-user-avatar",5),t.k0s(),t.j41(8,"ion-fab-list",6),t.DNE(9,k,2,0,"ion-fab-button",7),t.j41(10,"ion-fab-button",8),t.bIt("click",function(){return n.presentActionSheet()}),t.nrm(11,"ion-icon",9),t.k0s()()(),t.DNE(12,R,3,0,"ion-fab",10),t.j41(13,"h2"),t.EFF(14,"Recibos de Pagos y Gastos Garita 14a"),t.k0s(),t.j41(15,"p"),t.EFF(16," Manejo de recibos de pagos y gastos generales "),t.k0s()()),2&e&&(t.Y8G("translucent",!0),t.R7$(5),t.Y8G("edge",!0),t.R7$(4),t.Y8G("ngIf","admin"===n.role),t.R7$(3),t.Y8G("ngIf","reader"!=n.role))},dependencies:[o.W9,o.Q8,o.YW,o.OL,o.eU,o.iq,o.BC,o.ai,f.bT,M.a],styles:['@charset "UTF-8";ion-fab[slot=fixed][vertical=top][horizontal=end][_ngcontent-%COMP%]{top:-30px!important;z-index:1000}#user-menu-fab-button[_ngcontent-%COMP%]{--background: transparent;--box-shadow: 0 4px 8px rgba(0, 0, 0, .15);--border-radius: 50%;padding:0;overflow:visible}#user-menu-fab-button[_ngcontent-%COMP%]   app-user-avatar[_ngcontent-%COMP%]{display:block;transform:scale(1.2)}#user-menu-fab-button[_ngcontent-%COMP%]   .user-avatar-container[_ngcontent-%COMP%]{margin:0;padding:0}ion-buttons[slot=end][_ngcontent-%COMP%]{margin-right:8px}ion-toolbar[_ngcontent-%COMP%]   ion-buttons[slot=end][_ngcontent-%COMP%]{padding-right:8px}#user-avatar[_ngcontent-%COMP%]{margin-left:8px}@media (max-width: 768px){ion-fab[slot=fixed][vertical=top][horizontal=end][_ngcontent-%COMP%]{top:70px!important}ion-buttons[slot=end][_ngcontent-%COMP%]{margin-right:4px}#user-menu-fab-button[_ngcontent-%COMP%]   app-user-avatar[_ngcontent-%COMP%]{transform:scale(1.1)}}ion-fab-button[_ngcontent-%COMP%]{box-shadow:0 4px 8px #00000026}.user-avatar-container[_ngcontent-%COMP%]{position:relative;z-index:1001}']});const F=[{path:"",component:_}];class I{}var d,u;(m=I).\u0275fac=function(e){return new(e||m)},m.\u0275mod=t.$C({type:m}),m.\u0275inj=t.G2t({imports:[g.iI.forChild(F),g.iI]});class y{}(d=y).\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.$C({type:d}),d.\u0275inj=t.G2t({imports:[f.MD,i.YN,o.bv,i.X1]});class G{}(u=G).\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.$C({type:u}),u.\u0275inj=t.G2t({imports:[o.bv,f.MD,i.YN,i.X1,C,y,M.a,I]})}}]);
//# sourceMappingURL=7245.ba28558279476611.js.map